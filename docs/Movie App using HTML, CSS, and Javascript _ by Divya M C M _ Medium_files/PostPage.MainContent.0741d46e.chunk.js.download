(self.webpackChunklite=self.webpackChunklite||[]).push([[5531],{53690:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46A8.2 8.2 0 0 1 19 10.5c0 2.39-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.3 0-4.3-.83-5.98-2.5C2.84 14.82 2 12.83 2 10.5s.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zm.03 1.53c-1.93 0-3.56.68-4.9 2.04a6.84 6.84 0 0 0-.01 9.82 6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.69 4.94-2.07a6.47 6.47 0 0 0 2-4.87c0-1.93-.67-3.57-2.03-4.93a6.72 6.72 0 0 0-4.91-2.03zM12.8 8.4v3.48h-.97v4.12H9.18v-4.12h-.97V8.39A.53.53 0 0 1 8.37 8a.53.53 0 0 1 .39-.16h3.49c.14 0 .27.06.38.16a.52.52 0 0 1 .16.39zM9.32 6.2c0-.8.39-1.2 1.18-1.2.79 0 1.18.4 1.18 1.2 0 .8-.4 1.19-1.18 1.19-.79 0-1.18-.4-1.18-1.18z",fillRule:"evenodd"});const l=function(e){return i.createElement("svg",a({width:21,height:21},e),o)}},78271:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46C18.18 6.1 19 8.11 19 10.5s-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.31 0-4.3-.84-5.98-2.52A8.16 8.16 0 0 1 2 10.5c0-2.33.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zM3.91 8.2a6.68 6.68 0 0 0-.38 2.3c0 1.88.7 3.51 2.07 4.89a6.77 6.77 0 0 0 4.92 2.05c1.9 0 3.56-.7 4.94-2.08a6.2 6.2 0 0 0 1.17-1.5l-3.2-1.42c-.1.54-.38.98-.8 1.32a2.8 2.8 0 0 1-1.53.58v1.3h-.98v-1.3a3.95 3.95 0 0 1-2.58-1.02l1.16-1.18c.56.51 1.19.77 1.9.77.3 0 .54-.07.75-.2.2-.13.31-.35.31-.65a.66.66 0 0 0-.23-.52l-.82-.35-1-.45-1.35-.6L3.92 8.2zm6.6-4.68a6.6 6.6 0 0 0-4.9 2.05 8 8 0 0 0-.94 1.14l3.25 1.45c.14-.44.41-.8.8-1.07a2.68 2.68 0 0 1 1.39-.44V5.33h.98v1.3c.78.04 1.49.3 2.13.8L12.1 8.56c-.48-.33-.96-.5-1.46-.5-.26 0-.5.05-.7.15-.21.1-.31.28-.31.52 0 .07.02.14.07.2l1.08.49.75.33 1.37.6 4.36 1.94c.14-.6.22-1.21.22-1.83 0-1.95-.67-3.6-2.03-4.93a6.64 6.64 0 0 0-4.92-2.05z",fillRule:"evenodd"});const l=function(e){return i.createElement("svg",a({width:21,height:21},e),o)}},50344:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6 8.3 8.3 0 0 1 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.78 6.78 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.91 2.06c1.9 0 3.55-.69 4.95-2.07a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.9a6.67 6.67 0 0 0-4.91-2.06zm3.2 4.97v1.45H7.55V8.5h6.18zm0 2.73v1.45H7.55v-1.45h6.18z",fillRule:"evenodd"});const l=function(e){return i.createElement("svg",a({width:21,height:21},e),o)}},8969:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6c0-2.32.83-4.33 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.79 6.79 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.7 4.94-2.08a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.92a6.64 6.64 0 0 0-4.91-2.05zM6.72 9.3a3.8 3.8 0 0 1 1.26-2.42 3.7 3.7 0 0 1 2.47-.86c1.34 0 2.4.43 3.2 1.3a4.7 4.7 0 0 1 1.18 3.3c0 1.3-.41 2.4-1.23 3.26a4.2 4.2 0 0 1-3.2 1.3 3.8 3.8 0 0 1-2.48-.87 3.7 3.7 0 0 1-1.26-2.46H8.8c.05 1.03.67 1.55 1.87 1.55.6 0 1.08-.26 1.44-.78.36-.52.54-1.21.54-2.07 0-.9-.17-1.6-.5-2.06a1.68 1.68 0 0 0-1.45-.71c-1.14 0-1.77.5-1.92 1.5h.62l-1.68 1.68-1.68-1.68h.66z",fillRule:"evenodd"});const l=function(e){return i.createElement("svg",a({width:21,height:21},e),o)}},45957:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("g",{fillRule:"evenodd"},i.createElement("path",{d:"M10.5 5.68c-2.76 0-3.46 2.61-3.46 4.82 0 2.21.7 4.82 3.46 4.82s3.46-2.6 3.46-4.82c0-2.21-.7-4.82-3.46-4.82zm0 1.82c.11 0 .21 0 .31.04.2.17.3.4.1.73l-1.83 3.38A9.1 9.1 0 0 1 9 10.49c0-.98.07-3 1.5-3zm1.38 1.55c.1.52.1 1.06.1 1.44 0 .97-.06 3-1.48 3-.11 0-.22-.01-.31-.04l-.06-.02-.1-.03c-.31-.14-.51-.38-.22-.81l2.06-3.55z"}),i.createElement("path",{d:"M10.48 2c-2.36 0-4.34.82-5.96 2.47a8.6 8.6 0 0 0-1.88 2.8A8.35 8.35 0 0 0 2 10.5c0 1.13.21 2.21.64 3.23a8.58 8.58 0 0 0 1.85 2.76 8.84 8.84 0 0 0 2.76 1.87 8.4 8.4 0 0 0 3.23.64c1.13 0 2.22-.22 3.27-.66a8.7 8.7 0 0 0 2.82-1.88 7.72 7.72 0 0 0 1.81-2.68A8.62 8.62 0 0 0 19 10.5a8.6 8.6 0 0 0-.62-3.27 8.12 8.12 0 0 0-1.82-2.74A8.3 8.3 0 0 0 10.48 2zm.04 1.53a6.7 6.7 0 0 1 4.93 2.05 6.81 6.81 0 0 1 1.5 2.25 6.97 6.97 0 0 1 .52 2.67c0 1.95-.67 3.57-2 4.87a7.33 7.33 0 0 1-2.31 1.54 6.92 6.92 0 0 1-5.29 0 7.17 7.17 0 0 1-2.26-1.51 7.33 7.33 0 0 1-1.55-2.27 6.8 6.8 0 0 1 0-5.3 7.3 7.3 0 0 1 1.55-2.28 6.6 6.6 0 0 1 4.9-2.03z"}));const l=function(e){return i.createElement("svg",a({width:21,height:21},e),o)}},42440:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("g",{fillRule:"evenodd"},i.createElement("path",{d:"M4.13 12.21a15.4 15.4 0 0 1-2.54-2.28 6.61 6.61 0 0 1-.16-.2l-.25-.3.25-.3a13.08 13.08 0 0 1 .63-.7 15.4 15.4 0 0 1 1.7-1.51C5.55 5.54 7.5 4.7 9.51 4.7c.62 0 1.28.13 1.98.37l-.8.78a4.54 4.54 0 0 0-1.18-.18c-1.76 0-3.52.76-5.18 2.02-.58.45-1.12.93-1.58 1.41-.28.3-.28.36 0 .65a14.43 14.43 0 0 0 2.08 1.77l-.71.7zm3.05 1.57a6.32 6.32 0 0 0 4.61-.11c1-.38 2.04-.98 3.1-1.72a25.27 25.27 0 0 0 2.68-2.17l.37-.35-.37-.36a23.05 23.05 0 0 0-.76-.68 25.26 25.26 0 0 0-2.28-1.73l-.72.7a24.05 24.05 0 0 1 2.37 1.77c.2.17.2.42 0 .59-.57.49-1.2.97-1.84 1.43-1.01.7-2 1.26-2.9 1.61a5.4 5.4 0 0 1-1.92.42A6.6 6.6 0 0 1 8 13l-.81.78z"}),i.createElement("path",{d:"M12.05 9.06a2.68 2.68 0 0 1-2.7 3A2.74 2.74 0 0 1 9 12l3.06-2.96zM9.72 6.79a2.83 2.83 0 0 0-.37-.02 2.68 2.68 0 0 0-2.7 3l3.07-2.98zM3.6 14.3l-.35.34.68.7.35-.34 10.4-10.08.36-.34-.68-.7-.35.34z"}));const l=function(e){return i.createElement("svg",a({width:19,height:19,viewBox:"0 0 19 19"},e),o)}},41116:(e,n,t)=>{"use strict";t.d(n,{j:()=>l});var i=t(67294),a=t(47230),o=t(77355),l=function(e){var n=e.children,t=e.href,l=e.width,r=void 0===l?{xs:"100%",sm:"100%",md:"min-width",lg:"min-width",xl:"min-width"}:l;return i.createElement(a.zx,{href:t,buttonStyle:"SUBTLE",width:r},i.createElement(o.x,{textAlign:"center"},n))}},53191:(e,n,t)=>{"use strict";t.r(n),t.d(n,{MainContent:()=>Qo,useLoader:()=>Xo});var i=t(59713),a=t.n(i),o=t(64718),l=t(67294),r=t(5977),d=t(92030),s=t(1630),m=t(90732),c=t(5911),u=t(8575),p=t(90833),k=t(77280),v=t(43487),g=t(78870);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S=["blog.coinbase.com","moody-pub.medium.fail"],x=function(e){var n=e.post.mediumUrl,t=e.matchedPath,i=e.children,a=(0,v.v9)((function(e){return e.navigation.currentHash})),o=(0,k.Wd)("postPublishedType"),r=(0,k.Wd)("responsesOpen"),d=(0,k.PM)(),m=(0,k.G1)(),c=(0,v.v9)((function(e){return e.navigation.host})),f=(0,g.mb)();if(!n||f)return i;var x=u.parse(decodeURIComponent(n)),N=h(h(h(h({},d?{source:d}:{}),m?{sk:m}:{}),o?{postPublishedType:o}:{}),r?{responsesOpen:r}:{});return c!==x.host?S.indexOf(c)>-1?l.createElement(s.$,null):l.createElement(p.l,{to:(0,g.Rk)(n,N,a),replace:!0,isMediumApp:!0}):x.path&&t!==x.path?l.createElement(p.l,{to:(0,g.Rk)(x.path,N,a),replace:!0}):i},N=t(51098),y=t(319),b=t.n(y),E=t(94078),F={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostViewerEdgeContentQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}}]}}]}}]}}]}}]}}].concat(b()(E.Pk.definitions))},w=function(){var e,n,t,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,v.v9)((function(e){return e.navigation.referrer})),d=null!==(e=(0,k.G1)())&&void 0!==e?e:void 0,s=null!==(n=(0,k.PM)())&&void 0!==n?n:void 0,m={referrer:r,sk:d,source:s},c=!l,u=(0,N.a)(),p=u.loading,g=u.shouldShowIncognitoRegwall;!p&&g&&(c=!0);var f=(0,o.a)(F,{variables:{postId:a,postMeteringOptions:m},ssr:!1,skip:!a||c}),h=f.loading,S=f.error,x=f.data,y=null==x||null===(t=x.post)||void 0===t||null===(i=t.viewerEdge)||void 0===i?void 0:i.fullContent;return h||p?{loading:h}:S?{error:S}:{content:y}},P=t(96370),I=t(66411),T=t(50458),O=t(93513),_=t(6280),C=t(77355),D=t(29746),R=function(e){var n=e.isDockingEnabled,t=void 0!==n&&n,i=e.undockedBackgroundColor,a=e.maxWidthSize,o=void 0===a?"inset":a,r=e.children,d=e.marginBottom,s=void 0===d?{xs:"10px",sm:"10px",md:"26px",lg:"26px",xl:"26px"}:d,m=(0,_.$)(t),c=m.dockRef,u=m.markerRef,p=m.isStuck;return l.createElement(l.Fragment,null,l.createElement(C.x,{ref:u}),l.createElement(C.x,{tag:"footer",ref:c,display:"flex",alignItems:"center",boxSizing:"content-box",height:(0,D.a)(O.T),maxHeight:(0,D.a)(O.T),zIndex:"1",position:t?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:t?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:p?"BACKGROUND":i,borderTop:p?{xs:"NONE",sm:"NONE",md:"BASE_LIGHTER",lg:"BASE_LIGHTER",xl:"BASE_LIGHTER"}:"NONE",marginBottom:s},l.createElement(C.x,{flexGrow:"1"},l.createElement(P.P,{size:o},r))))},A=t(63038),M=t.n(A),L=t(67154),B=t.n(L),j=t(75412),V=t(27517),U=t(25735),H=t(25267),G=t(39727),W=t(39507),z=t(37597),Y=t(93310),Z=t(47230),K=t(91583),q=t(18635),X=t(87691),Q=t(54945),$=t(34135),J=t(75221),ee=t(78285),ne=t(78142),te=t(95445),ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPublishedDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishedDialog_post"}}]}}]}}].concat(b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishedDialog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}}]}}]))},ae=function(){return l.createElement(C.x,null,l.createElement(Y.r,{inline:!0,linkStyle:"OBVIOUS",href:(0,T.Sc)()},"Learn more")," ","about what happens to your post when you publish.")};var oe,le=function(e){var n=e.url,t=e.label,i=e.post,a=(0,U.d)("enable_maim_the_meter").value,o={postId:null==i?void 0:i.id,source:"post_publish_dialog"};return l.createElement(te.b,B()({url:n},o),(function(e){return l.createElement(C.x,{marginBottom:"8px"},l.createElement(Z.zx,{buttonStyle:"SOCIAL",size:a?"LARGE":"REGULAR",width:a?Z.nt:Z.hU,onClick:function(e){return e}},l.createElement(C.x,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":t)))}))},re=function(e){var n=e.post,t=e.isUnlisted,i=e.postPath;return l.createElement(C.x,{display:"flex",flexDirection:"column",alignItems:"center"},l.createElement(X.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(t)),l.createElement(C.x,{marginTop:"20px"},!t&&l.createElement(l.Fragment,null,l.createElement(z.f,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",postId:n.id}),l.createElement(C.x,{marginBottom:"12px"}),l.createElement(z.f,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",postId:n.id}),l.createElement(C.x,{marginBottom:"12px"}),l.createElement(z.f,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",postId:n.id}),l.createElement(C.x,{marginBottom:"12px"})),l.createElement(le,{url:i,label:"Copy story link",post:n})))},de=function(e){var n=e.viewerId,t=e.isVisible,i=e.hide,a=e.post,o=a.id,r=a.visibility,d=a.curationEligibleAt,s=a.mediumUrl,m=a.isNewsletter,c=a.isPublishToEmail,u=a.isMarkedPaywallOnly,p=a.creator,k=(0,W.T)(a),f=k.viewerEdge,h=k.loading,S="UNLISTED"===r,x=!!d,N=(null==f?void 0:f.creatorPartnerProgramEnrollmentStatus)===J.iR.ENROLLED,y=null==f?void 0:f.shareKey,b=(0,v.v9)((function(e){return e.config.productName})),E="Your story is published!";return c&&n===(null==p?void 0:p.id)?E="Your story has been published and sent!":m&&(E="Your newsletter is on its way!"),h?null:l.createElement(K.V,{isVisible:t,hide:i,withAnimation:!0,withCloseButton:!1},l.createElement(C.x,{background:ne.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,ne.Uy)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},l.createElement(C.x,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},l.createElement(C.x,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},l.createElement(Q.H2,{scale:"L",tag:"h3"},E),l.createElement(C.x,{maxWidth:"520px",marginTop:"20px"},l.createElement(X.F,{color:"DARKER",scale:"L"},function(e,n,t,i,a,o){return i?function(e,n){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(n,"."):l.createElement(l.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",n," readers’ homepages and Digest emails depending on their interests."," ",l.createElement(Y.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,o):e?"Your unlisted story will not appear publicly on ".concat(o,", but you can still share it."):a?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":t?n?l.createElement(l.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money. It will be part of ",o,"’s metered paywall.",l.createElement(ae,null)):l.createElement(l.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",o,"’s metered paywall.",l.createElement(ae,null)):l.createElement(l.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",o," Partner Program."," ",l.createElement(Y.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(S,x,N,m,null!=u&&u,b))),l.createElement(C.x,{paddingTop:"20px"},x&&!S&&s&&y&&l.createElement(le,{url:(0,g.Rk)((0,T.jV)(a),{sk:y}),label:"Copy Friend Link",post:a})),l.createElement(C.x,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),o&&s&&l.createElement(re,{post:a,isUnlisted:S,postPath:(0,T.jV)(a)})),l.createElement(q.P,{onClick:i,size:"LARGE"})))};!function(e){e.initial="initial",e.repub="repub"}(oe||(oe={}));var se=function(e){var n=e.post,t=l.useState(!1),i=M()(t,2),a=i[0],o=i[1],r=l.useCallback((function(){return o(!1)}),[o]),d=(0,V.I0)(),s=(0,k.Wd)("postPublishedType"),m=(0,G.g)(n.collection).viewerEdge;l.useEffect((function(){switch(s){case oe.initial:o(!0);break;case oe.repub:d((0,ee.Dx)({duration:3e3,message:"Your changes have been published."}))}}),[s]);var c=l.useState(!1),u=M()(c,2),p=u[0],v=u[1];return p?l.createElement(H.I,null,(function(e){return null!=e&&e.id&&(e.id===(n.creator&&n.creator.id)||n.collection&&null!=m&&m.isEditor)?l.createElement(j.A,{ssr:!1,query:ie,variables:{postId:n.id}},(function(n){var t=n.loading,i=n.data,o=(i=void 0===i?{}:i).post;return t||!o||o.inResponseToPostResult||o.inResponseToCatalogResult?null:l.createElement(de,{isVisible:a,hide:r,post:o,viewerId:e.id})})):null})):($.V6.on("load",(function(){return v(!0)})),null)},me=t(52439),ce=t(8851),ue=t(68550),pe=t(62367),ke=t(31889),ve=/rgba\(([\d]+),\s*([\d]+),\s*([\d]+),\s*([\d]+|[\d]*.[\d]+)\)/,ge=function(e){var n,t,i=e.children,a=e.forwardedRef,o=e.margin,r=(0,ke.F)();return l.createElement(l.Fragment,null,l.createElement(C.x,{marginTop:"-240px",background:"linear-gradient(".concat((n=r.backgroundColor,t=n.match(ve),t?"rgba(".concat(t[1],", ").concat(t[2],", ").concat(t[3],", 0)"):(0,ne.l9)(0)),", ").concat(r.backgroundColor,")"),height:"250px",position:"relative",width:"100%"}),l.createElement(C.x,{backgroundColor:"BACKGROUND",ref:a},l.createElement(C.x,{margin:"auto",maxWidth:"760px",sm:{margin:null!=o?o:"0 24px 0"}},i)))},fe=(0,l.forwardRef)((function(e,n){return l.createElement(ge,B()({},e,{forwardedRef:n}))})),he=(0,l.memo)(fe),Se=t(6443),xe=t(43822),Ne=t(18627),ye=t(39944),be=function(e){var n=e.postId,t=e.align,i=e.entityId,a=e.id,o=e.buttonStyle,r=void 0===o?"STRONG":o,d=e.onClick,s=(0,Se.H)().value,m=(0,Ne.Av)(),c=(0,v.v9)((function(e){return e.config.authDomain})),u=null==s?void 0:s.hasPastMemberships,p=(0,g.Rk)((0,T.c5)(c),{subscribeToUserId:i||"",susiEntry:"post_paywall"}),k=l.useCallback((function(){m.event("paywall.upgradeClicked",{postId:n,userId:null==s?void 0:s.id}),null==d||d()}),[n,null==s?void 0:s.id]),f=u?"182px":"104px",h=u?"Resume membership":"Upgrade";return l.createElement(ye.M,{source:"upgrade_membership",dimension:"post_limit",sourceProviderData:{postId:n},eventData:{postId:n}},l.createElement(C.x,{display:"flex",textAlign:"center",justifyContent:"left"===t?"flex-start":"center"},l.createElement(xe.a,{isButton:!0,onClick:k,buttonStyle:r,width:f,redirectUrl:p,id:a},h)))},Ee=t(14818),Fe=t(14646),we=t(18122);function Pe(){return(Pe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var Ie=l.createElement("path",{d:"M1 6.25l4 4.5 9-9.5",stroke:"currentColor",strokeWidth:1.5});const Te=function(e){return l.createElement("svg",Pe({width:15,height:12,viewBox:"0 0 15 12",fill:"none"},e),Ie)};var Oe=t(76689),_e=t(17583),Ce=function(){return{flexShrink:0,marginRight:"12px"}},De=function(e){return{flexShrink:0,marginRight:"12px",marginTop:"4px","& path":{stroke:e.colorTokens.foreground.neutral.primary.base}}},Re=function(e){var n=e.headerText,t=e.reasonsToUpgrade,i=e.paywall,a=e.postId,o=(0,Fe.I)(),r=(0,_e.s)(),d="xs"===r||"sm"===r,s=(0,l.useMemo)((function(){var e=(null==i?void 0:i.creatorSpotlights)||[];return d&&e.length>6?e.filter((function(e){return!e.hideOnSmallScreen})):e}),[d,i]),m=(0,pe.k)(),c=(0,l.useCallback)((function(){null==m||m.flushLocalAttributes()}),[m]),u=(0,U.d)("enable_maim_the_meter").value,p=(0,l.useMemo)((function(){return u?["Access all member-only stories on Medium"].concat(b()(t)):t}),[u,t]),k=(0,Se.H)().value,v=(0,Ne.Av)(),g=(0,l.useCallback)((function(){v.event("paywall.presented",{type:i.type,userId:null==k?void 0:k.id})}),[i.type,null==k?void 0:k.id]),f=(0,we.g)({onPresentedFn:g});return l.createElement(he,{margin:"0 -24px",ref:f},l.createElement(C.x,{display:"flex",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},l.createElement(C.x,{display:"flex",flexDirection:"column",padding:{xs:"28px 33px 32px",sm:"28px 33px 32px",md:"32px",lg:"32px",xl:"32px"},marginTop:"32px",backgroundColor:u?void 0:"BASE_LIGHT",textAlign:u?"center":"left",borderRadius:"4px",maxWidth:"100%"},l.createElement(Q.H2,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},n),u&&l.createElement(C.x,{marginTop:"32px"},l.createElement(X.F,{scale:"M",color:"DARKER"},"The author made this story available to Medium members only. Upgrade to instantly unlock this story plus other member-only benefits.")),l.createElement(C.x,{margin:u?"22px auto 34px":"16px 0 32px"},p.map((function(e,n){return l.createElement(C.x,{display:"flex",alignItems:u?"center":"flex-start",key:"reason-".concat(n),padding:u?void 0:"3px 0",marginTop:u?"12px":void 0,textAlign:u?"left":void 0},u?l.createElement(Oe.Z,{className:o(Ce)}):l.createElement(Te,{className:o(De)}),l.createElement(X.F,{scale:"M",color:"DARKER"},e))}))),l.createElement(C.x,{display:"flex",justifyContent:"space-between",flexWrap:"wrap",marginBottom:u?"30px":void 0},s.map((function(e){return l.createElement(C.x,{key:e.name,display:"flex",alignItems:"center",flexDirection:"column",flexGrow:"1",flexShrink:"1",flexBasis:d?"33%":"25%",marginBottom:"32px","data-testid":"creator-spotlight"},l.createElement(Ee.z,{alt:e.name,miroId:e.miroId,diameter:64}),l.createElement(C.x,{marginTop:"8px",textAlign:"center"},l.createElement(X.F,{scale:d?"S":"M",color:"DARKER"},e.name),l.createElement(X.F,{scale:"XS"},e.title),e.company&&l.createElement(X.F,{scale:"XS"},e.company)))}))),l.createElement(be,{id:"paywallButton-programming",postId:a,align:"center",buttonStyle:"STRONG",onClick:c}))))},Ae=t(57142),Me=["Dive deeper into the topics that matter to you",l.createElement(l.Fragment,null,"Get in-depth articles answering thousands of questions"),"Achieve your personal and professional goals"],Le=function(e){var n,t=e.paywall,i=e.post,a=(0,Se.H)().value,o=(0,U.d)("enable_maim_the_meter").value,r=function(e,n,t){var i=e?(0,Ae.J)(e):null;i=i&&i.length<=13?i:null;var a=n?" from ".concat(n):"";return i?t?"".concat(i,", read this story").concat(a," — and all the best stories on Medium."):"".concat(i,", read more").concat(a," — and everyone else on Medium."):"Read this story".concat(a,t?" — and all the best stories on Medium.":" — and everything else on Medium.")}(null==a?void 0:a.name,null===(n=i.creator)||void 0===n?void 0:n.name,!!o);return l.createElement(Re,{headerText:r,reasonsToUpgrade:Me,paywall:t,postId:i.id})},Be=function(e){switch(e){case"javascript":return"JavaScript";case"ios-development":return"iOS development";case"android-development":return"Android development";default:return e.replace("-"," ").toLowerCase()}},je=function(e){var n,t,i=e.paywall,a=e.post,o=(0,Se.H)().value,r=null!==(n=null===(t=a.primaryTopic)||void 0===t?void 0:t.slug)&&void 0!==n?n:null,d=(0,U.d)("enable_maim_the_meter").value,s=function(e,n,t){var i=e?(0,Ae.J)(e):null;if(i=i&&i.length<=13?i:null,n){var a=Be(n);return i?t?"".concat(i,", read the best stories about ").concat(a," from industry leaders on Medium."):"".concat(i,", get unlimited access to ").concat(a," stories from industry leaders on Medium."):t?"Read the best stories about ".concat(a," from industry leaders on Medium."):"Get unlimited access to ".concat(a," stories from industry leaders on Medium.")}return i?"".concat(i,t?", read the best stories from industry leaders on Medium.":", get unlimited access to stories from industry leaders on Medium."):t?"Read the best stories from industry leaders on Medium.":"Get unlimited access to stories from industry leaders on Medium."}(null==o?void 0:o.name,r,!!d),m=(0,l.useMemo)((function(){return function(e,n){var t=e?Be(e):"technical";return["Become an expert in your areas of interest",n?"Get in-depth answers to thousands of questions about ".concat(t):"Get in-depth articles answering thousands of ".concat(t," questions"),"Grow your career or build a new one"]}(r,!!d)}),[r,d]);return l.createElement(Re,{headerText:s,reasonsToUpgrade:m,paywall:i,postId:a.id})},Ve=t(6402),Ue=t(57900),He=function(e){var n,t=e.post,i=(0,Se.H)().value,a=(0,Ne.Av)();(0,l.useEffect)((function(){a.event("paywall.viewed",{userId:null==i?void 0:i.id})}),[]);var r=(0,o.a)(Ue.Q,{ssr:!1,variables:{postId:t.id}}),d=r.data,s=r.error,m=r.loading;(0,l.useEffect)((function(){s&&Ve.k.error({error:s},"PayWallWrapper query error")}),[s]);var c=(0,l.useState)(!1),u=M()(c,2),p=u[0],k=u[1],v=(0,l.useCallback)((function(e,n){p||(k(!0),Ve.k.error(e,n))}),[p]),g=null==d||null===(n=d.post)||void 0===n?void 0:n.viewerEdge.paywall;if(s||m||!g)return null;switch(g.type){case J.zB.PROGRAMMING:return l.createElement(je,{paywall:g,post:t});case J.zB.ASPIRATIONAL:return l.createElement(Le,{paywall:g,post:t});default:return v({paywall:g},"Unknown paywall type"),null}},Ge=t(39610),We=t(26350),ze=t(28451),Ye=t(54935),Ze=t(95250),Ke=t(69862),qe=t(40578),Xe=t(40980),Qe=function(e){var n=e.meterCount,t=e.postId,i=e.susiEntry,a="register",o={meterCount:n,operation:a,postId:t},r=(0,Ye.j)().openModal,d=(0,U.d)("enable_maim_the_meter").value;return l.createElement(C.x,{display:"flex",flexDirection:"column",textAlign:"center",margin:d?{xs:"32px 0",sm:"32px 0",md:"64px 0",lg:"64px 0",xl:"64px"}:{xs:"40px 0",sm:"40px 0",md:"62px 0 52px",lg:"62px 0 52px",xl:"62px 0 52px"}},l.createElement(Xe.$,{eventData:o},l.createElement(qe.x,{operation:a})),l.createElement(C.x,{marginTop:"10px",sm:{marginTop:"12px"}},l.createElement(Xe.$,{eventData:o},l.createElement(Ke.q,{operation:a}))),l.createElement(C.x,{marginTop:"10px",sm:{marginTop:"12px"}},l.createElement(Xe.$,{eventData:o},l.createElement(Ze.R,{goToEmailAuthStep:function(){r({step:"ENTER_EMAIL",susiEntry:i,operation:a})},operation:a}))))},$e="post_regwall",Je=function(e){var n=e.meteringInfo,t=e.post,i=(0,Ne.Av)(),a="LOCKED_POST_SOURCE_SYNDICATED"===t.lockedSource,o=null==n?void 0:n.postIds.length,r=(0,v.v9)((function(e){return e.navigation.susiEmail})),d=(0,U.d)("enable_maim_the_meter").value;(0,l.useEffect)((function(){i.event("meter.viewed",{meterCount:o,postId:t.id,uiType:a?ze.j.SyndicatedRegwall:ze.j.RegWall})}),[]);var s=(0,l.useCallback)((function(){i.event("regwall.presented",{})}),[]),m=(0,we.g)({onPresentedFn:s});return l.createElement(I.cW,{source:{postId:t.id,susiEntry:$e}},l.createElement(he,{margin:d?"0px":void 0,ref:m},l.createElement(C.x,{display:"flex",textAlign:"center",justifyContent:"center",flexDirection:"column"},l.createElement(C.x,{padding:d?{xs:"28px 0 48px",sm:"28px 0 48px",md:"56px",lg:"56px",xl:"56px"}:{xs:"28px 16px 48px",sm:"28px 16px 48px",md:"48px 56px",lg:"48px 56px",xl:"48px 56px"}},l.createElement(Q.H2,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},r?"Check your inbox.":d?l.createElement(C.x,null,"Read the full story with a free account."):l.createElement(l.Fragment,null,l.createElement(C.x,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),l.createElement(C.x,{display:"block",sm:{display:"none"}},"Read the rest of this story with a free account."))),l.createElement(X.F,{color:"DARKER",scale:d?"M":{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},r?l.createElement(l.Fragment,null,l.createElement(C.x,{paddingTop:"12px",paddingBottom:"56px"},"Click the link we sent to ",r," to complete your account setup and continue reading this story."),l.createElement(X.F,{color:"LIGHTER",scale:"M"},"Didn't get the link?"," ",l.createElement(We.R,{linkStyle:"OBVIOUS",operation:"register",post:t,susiEntry:$e},"Try again"))):l.createElement(X.F,{color:"DARKER",scale:d?"L":{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"}},d&&l.createElement(C.x,{margin:"32px 0 0"},l.createElement(X.F,{color:"DARKER",scale:"M"},"The author made this story available to Medium members only.",l.createElement("br",null),"Sign up to read this one for free.")),l.createElement(X.F,{color:"DARKER",scale:d?"M":"L"},l.createElement(C.x,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"}},l.createElement(C.x,{margin:d?"32px 0":"42px 0"},l.createElement(Ge.a,{isButton:!0,buttonSize:"REGULAR",postId:t.id,appEntry:"regwall",copy:d?"Continue in app":"Read in app"})),l.createElement(C.x,{marginBottom:d?void 0:"-20px"},"Or, continue in mobile web"))),l.createElement(Qe,{meterCount:null==n?void 0:n.postIds.length,postId:t.id,susiEntry:$e}),"Already have an account?"," ",l.createElement(We.R,{linkStyle:"OBVIOUS",inline:!!d,operation:"login",post:t,susiEntry:$e},"Sign in")))))))},en=function(e){var n=e.post,t=e.meteringInfo,i=n.id,a=n.content.isLockedPreviewOnly,o=(0,Se.H)(),r=o.value,d=o.loading,s=!!r,m=w(i,a).loading,c=(0,U.d)("enable_maim_the_meter").value;if(!m&&a&&(t||c)){if(s)return l.createElement(He,{post:n});if(!d)return l.createElement(Je,{post:n,meteringInfo:t})}return null},nn=t(21919),tn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddCollaboratorMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addCollaborator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]},an=t(73776),on=t(2031),ln=t(49546),rn=t(70405),dn=t(82492),sn=t.n(dn),mn=t(68254),cn=t.n(mn),un=t(20512),pn=t(46696),kn=t(15085);function vn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function gn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?vn(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var fn=(0,V.$j)((function(e){var n=e.config,t=n.productName,i=n.defaultImages,a=n.collectionStructuredData,o=e.navigation;return{currentLocation:o.currentLocation,host:o.host,productName:t,defaultImages:i,collectionStructuredData:a}}))((function(e){var n=e.currentLocation,t=e.host,i=e.post,a=e.postDescription,o=e.productName,r=e.defaultImages,d=e.collectionStructuredData,s=i.collection,m=i.creator,c=i.id,u=i.mediumUrl,p=i.isLocked,k=i.previewImage,v=i.firstPublishedAt,f=i.updatedAt,h=(0,kn._t)(i,o),S={id:r.postLogo.imageId,originalWidth:r.postLogo.width,originalHeight:r.postLogo.height},x={id:r.orgLogo.imageId,originalWidth:r.orgLogo.width,originalHeight:r.orgLogo.height},N=s?{"@type":"Organization",name:s.name,url:s.domain||(0,g.l1)(t,(0,T.WG)(s,n)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,un.lc)(x);var n=(0,un.lc)(e.logo);return n&&60===n.height&&n.width<=600?n:(0,un.lc)(x)}(s)}:{"@type":"Organization",name:o,url:(0,g.l1)(t,"/"),logo:(0,un.lc)(x)};s&&d&&d[s.id]&&sn()(N,d[s.id].data);var y=k&&k.id?(0,un.Y4)(gn(gn({},k),{},{miroId:k.id,croppedWidth:1200})):(0,un.NJ)({url:(0,pn.W6)({miroId:S.id,width:S.originalWidth}),height:S.originalHeight,width:S.originalWidth}),b=a||"",E=p?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},F=gn({"@type":"NewsArticle",image:y,url:u,dateCreated:v&&new Date(v).toISOString(),datePublished:v&&new Date(v).toISOString(),dateModified:f&&new Date(f).toISOString(),headline:h,name:h,description:b,identifier:c,author:m&&m.name&&m.username?{"@type":"Person",name:m.name||m.username,url:(0,T.AW)(m,t)}:null,creator:m&&[m.name],publisher:N,mainEntityOfPage:u},E),w=gn(gn({},{"@context":"http://schema.org"}),F);return l.createElement(rn.ql,null,l.createElement("script",{type:"application/ld+json"},cn()(w,{isJSON:!0})))})),hn=t(21372),Sn=t(22680);function xn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Nn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xn(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var yn=(0,V.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var n,t,i,a,o=e.authDomain,r=e.productName,d=e.post,s=d.canonicalUrl,m=d.collection,c=d.creator,u=d.id,p=d.latestPublishedAt,k=d.mediumUrl,v=d.previewContent,g=d.socialTitle,f=d.socialDek,h=d.visibility,S=d.isShortform,x="UNLISTED"===h,N=!d.firstPublishedAt,y=null==c?void 0:c.name,b=(0,kn.yB)(d),E=d.title||"",F=b.latestTitle||E;if(S){var w=Nn(Nn({},d),{},{title:F});i=(0,kn.oS)(w,r,b.hasTitleGraf).trim(),a=(0,Sn.O)(d,b.hasTitleGraf)}else i=(0,kn._t)(d,r,b,!0).trim(),a=(0,Sn.j)(d);var P,I,O,_=f||(null==v?void 0:v.subtitle)||a;if(null!=d&&null!==(n=d.previewImage)&&void 0!==n&&n.id&&!d.isLimitedState){var C=d.previewImage;P=(0,pn.vz)({miroId:C.id,aspectRatio:1.9,croppedWidth:C.originalWidth?Math.min(C.originalWidth,1200):1200,originalWidth:C.originalWidth,originalHeight:C.originalHeight,focusPercentX:C.focusPercentX,focusPercentY:C.focusPercentY}),d.previewImage.alt&&(I=d.previewImage.alt)}else if(d.isLimitedState){var D={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};P=(0,pn.vz)({miroId:D.id,aspectRatio:1.9,croppedWidth:D.originalWidth?Math.min(D.originalWidth,1200):1200,originalWidth:D.originalWidth,originalHeight:D.originalHeight,focusPercentX:D.focusPercentX,focusPercentY:D.focusPercentY}),I="This image was reported as a potential violation of Medium's rules and is under investigation."}null!=c&&c.username&&(O=(0,T.AW)(c,o));var R=(0,T.CK)(u),A=!(null!==(t=(0,kn.c_)(d))&&void 0!==t&&t.shouldIndexPost),M=p&&new Date(p).toISOString(),L=(0,hn.Vd)(d.readingTime||0),B=null==c?void 0:c.twitterScreenName,j=(null==m?void 0:m.twitterUsername)||"Medium",V=null==m?void 0:m.facebookPageId,U=g||E||F;d.isLimitedState&&(U="");var H=d.isLimitedState?"":_,G=(0,l.useMemo)((function(){var e;return l.createElement(rn.ql,null,l.createElement("meta",{property:"og:type",content:"article"}),M&&l.createElement("meta",{property:"article:published_time",content:M}),l.createElement("title",null,i),l.createElement("meta",{name:"title",content:i}),l.createElement("meta",{property:"og:title",content:U}),V&&l.createElement("meta",{property:"fb:pages",content:V}),l.createElement("meta",{property:"al:android:url",content:R}),l.createElement("meta",{property:"al:ios:url",content:R}),l.createElement("meta",{property:"al:android:app_name",content:"Medium"}),a&&l.createElement("meta",{name:"description",content:a}),_&&l.createElement("meta",{property:"og:description",content:H}),l.createElement("meta",{property:"og:url",content:null!=k?k:void 0}),l.createElement("meta",{property:"al:web:url",content:null!=k?k:void 0}),P&&l.createElement("meta",{property:"og:image",content:P}),I&&l.createElement("meta",{property:"og:image:alt",content:I}),O&&l.createElement("meta",{property:"article:author",content:O}),O&&l.createElement("link",{rel:"author",href:O}),y&&l.createElement("meta",{name:"author",content:y}),l.createElement("link",{rel:"canonical",href:null!==(e=s||k)&&void 0!==e?e:void 0}),l.createElement("link",{rel:"alternate",href:(0,T.zi)((0,T.o2)("medium.com",d.id))}),l.createElement("meta",{name:"robots",content:"".concat(A?"noindex":"index",",follow,max-image-preview:large")}),l.createElement("meta",{name:"referrer",content:x||N?"origin":"unsafe-url"}),l.createElement("meta",{property:"twitter:title",content:U}),l.createElement("meta",{name:"twitter:site",content:"@".concat(j)}),l.createElement("meta",{name:"twitter:app:url:iphone",content:R}),_&&l.createElement("meta",{property:"twitter:description",content:H}),P&&l.createElement("meta",{name:"twitter:image:src",content:P}),I&&l.createElement("meta",{name:"twitter:image:alt",content:I}),l.createElement("meta",{name:"twitter:card",content:P?"summary_large_image":"summary"}),B&&l.createElement("meta",{name:"twitter:creator",content:"@".concat(B)}),l.createElement("meta",{name:"twitter:label1",content:"Reading time"}),l.createElement("meta",{name:"twitter:data1",content:"".concat(L," min read")}),l.createElement("meta",{name:"twitter:tile:template:testing",content:"2"}),P&&l.createElement("meta",{name:"twitter:tile:image",content:P}),I&&l.createElement("meta",{name:"twitter:tile:image:alt",content:I}),l.createElement("meta",{name:"twitter:tile:info1:icon",content:"Person"}),y&&l.createElement("meta",{name:"twitter:tile:info1:text",content:y}),l.createElement("meta",{name:"twitter:tile:info2:icon",content:"Calendar"}),p&&l.createElement("meta",{name:"twitter:tile:info2:text",content:(0,ln.Z)(p,"LLL d, yyyy")}),l.createElement("meta",{name:"twitter:cta",content:"Read on Medium"}))}),[i,s,k,P,I,u,g,a,O,y,B,R,A,p,M]);return l.createElement(l.Fragment,null,G,l.createElement(fn,{post:d,postDescription:a}))})),bn=t(7834),En=t(91743),Fn=t(1444),wn=t(84663),Pn=t(56804),In=t(17878),Tn=t(75761),On=t(21232),_n=function(e){var n,t=e.post,i=e.socialPopoverPosition,a=void 0===i?"beginning":i,o=l.useContext(On.f).openSidebar,r=!!(0,Se.H)().value,d=t.creator,s="clap_footer",m={post:t,source:"post_actions_footer"},c=(null==t||null===(n=t.postResponses)||void 0===n?void 0:n.count)||null;return l.createElement(l.Fragment,null,l.createElement(C.x,{display:"flex",justifyContent:"space-between",print:{display:"none"}},l.createElement(I.cW,{source:{name:"post_actions_footer"}},l.createElement(C.x,{display:"flex",flexDirection:"row",alignItems:"center"},l.createElement(C.x,{maxWidth:"155px"},l.createElement(In.e,null,l.createElement(Pn.S,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:!0,susiEntry:s,buttonColor:"LIGHTER",countScale:"S"})),l.createElement(In.s,null,l.createElement(Pn.S,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,susiEntry:s,buttonColor:"LIGHTER",countScale:"S"}))),l.createElement(I.cW,{source:{name:"follow_footer",susiEntry:"follow_footer"}},l.createElement(C.x,{display:"flex",marginLeft:"24px"},l.createElement(Tn.h,{trackingData:{postId:t.id},responsesCount:c,allowResponses:t.allowResponses,isLimitedState:t.isLimitedState,handleClick:o,iconStylesOverride:{marginTop:"0px"},countStylesOverride:{marginLeft:"4px",marginTop:"0px"},disabledTooltipText:"Responses hidden"}))))),l.createElement(C.x,{display:"flex",alignItems:"center"},"beginning"===a&&l.createElement(wn.I,m),l.createElement(C.x,{flexGrow:"0",marginLeft:"beginning"===a?"20px":void 0,marginRight:"20px"},l.createElement(I.cW,{source:{name:"post_actions_footer"}},l.createElement(Fn.o,{post:t,susiEntry:"bookmark_footer",buttonStyle:"ICON_SUBTLE"}))),"end"===a&&l.createElement(C.x,{flexGrow:"0",marginRight:"20px"},l.createElement(wn.I,m)),t&&d&&r&&l.createElement(En.t,{post:t}))))},Cn=t(17235),Dn=t(30020),Rn=t(53690),An=t(78271),Mn=t(50344),Ln=t(8969),Bn=t(45957),jn=function(e){return{fill:e.colorTokens.foreground.neutral.secondary.base}};function Vn(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(Hn(e,"title")," license by the author.")}}var Un={PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}};function Hn(e,n){return Un[e][n]}var Gn,Wn,zn=function(e){var n=e.license,t=(0,Fe.I)();return n?l.createElement(C.x,{display:"inline"},l.createElement(C.x,{display:"inline-block"},l.createElement(X.F,{scale:"M"},l.createElement(Dn._,{tooltipText:Vn(n),maxWidth:300},l.createElement(Y.r,{disableSourceParam:!0,href:Hn(n,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(n))))),l.createElement(C.x,{display:"inline-block"},l.createElement(X.F,{scale:"M"},"CC_40_ZERO"===n&&l.createElement("span",null," by the author."),l.createElement("span",{className:t(jn),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:l.createElement(Bn.Z,null),CC_40_BY:l.createElement(Rn.Z,null),CC_40_BY_ND:l.createElement(l.Fragment,null,l.createElement(Rn.Z,null),l.createElement(Mn.Z,null)),CC_40_BY_SA:l.createElement(l.Fragment,null,l.createElement(Rn.Z,null),l.createElement(Ln.Z,null)),CC_40_BY_NC:l.createElement(l.Fragment,null,l.createElement(Rn.Z,null),l.createElement(An.Z,null)),CC_40_BY_NC_ND:l.createElement(l.Fragment,null,l.createElement(Rn.Z,null),l.createElement(An.Z,null),l.createElement(Mn.Z,null)),CC_40_BY_NC_SA:l.createElement(l.Fragment,null,l.createElement(Rn.Z,null),l.createElement(An.Z,null),l.createElement(Ln.Z,null)),PUBLIC_DOMAIN:l.createElement(l.Fragment,null)}[e]}(n))))):null},Yn=t(73279),Zn=t(42440),Kn=function(e){var n=e.post,t=e.marginBottom,i=(null==n?void 0:n.tags)||[];return i.length?l.createElement(C.x,{display:"flex",flexWrap:"wrap","align-items":"flex-start",marginTop:"6px",marginBottom:t},i.map((function(e){return l.createElement(C.x,{display:"flex",marginTop:"8px",key:e.id},l.createElement(Cn.P,{topic:e}))}))):null},qn=function(){return l.createElement(C.x,{padding:"0 8px",display:"inline"},l.createElement(Yn.O,{display:"inline",scale:"M"}))},Xn=function(e){var n,t=e.post,i=t.visibility,a=t.license,o="UNLISTED"===i,r=!(!a||"ALL_RIGHTS_RESERVED"===a),d=!(null===(n=t.tags)||void 0===n||!n.length),s=o||r;return d||s?l.createElement(P.P,{size:"app"},l.createElement(Kn,{post:t,marginBottom:s?"40px":"26px"}),s&&l.createElement(C.x,{marginTop:d?"0px":"12px",marginBottom:"26px"},o&&l.createElement(C.x,{display:"inline"},l.createElement(X.F,{scale:"M",tag:"span"},l.createElement(Zn.Z,null)," Unlisted")),o&&r&&l.createElement(qn,null),r&&l.createElement(zn,{license:a}))):null},Qn=t(60672),$n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TopicViewerEdge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topicId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"topicId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Topic"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicViewerEdge_topicViewerEdge"}}]}}]}}]}}]}}].concat(b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicViewerEdge_topicViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopicViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}}]}}]))},Jn=t(61095),et=t(87757),nt=t.n(et),tt=t(48926),it=t.n(tt),at=t(73145),ot=t(28959),lt="post-view",rt="post-read",dt="topic-view",st="medium-search",mt="external-search",ct=(Gn={},a()(Gn,lt,200),a()(Gn,rt,200),a()(Gn,dt,200),a()(Gn,st,200),a()(Gn,mt,200),Gn),ut=(Wn={},a()(Wn,lt,new ot.Z("pv")),a()(Wn,rt,new ot.Z("pr")),a()(Wn,dt,new ot.Z("tv")),a()(Wn,st,new ot.Z("ms")),a()(Wn,mt,new ot.Z("es")),Wn),pt=function(e,n,t){var i=ut[e];i.getCount()===ct[e]&&i.clean();try{i.set(n,t)}catch(e){i.clean()}},kt=t(25550),vt=t(49608),gt=t(58207),ft=t(39202),ht={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostNoteMissingToastQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"privateNotes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]},St=t(97480),xt=t(35194),Nt=t(66227),yt=t(73917),bt=t(20113);function Et(){return(Et=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var Ft=l.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),wt=l.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),Pt=l.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),It=l.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const Tt=function(e){return l.createElement("svg",Et({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),Ft,wt,Pt,It)};var Ot=(0,V.$j)()((function(e){var n=e.dispatch,t=e.isVisible,i=e.hide,a="limitedStateInterstitialDialogPopover";return l.createElement(K.V,{isVisible:t,hide:i,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},l.createElement(C.x,{display:"flex",justifyContent:"center",paddingTop:"100px"},l.createElement(C.x,{height:"550px",width:"900px",background:ne.ix,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,ne.Uy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},l.createElement(C.x,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},l.createElement(C.x,{paddingBottom:"24px"},l.createElement(Tt,null)),l.createElement(C.x,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},l.createElement(bt.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),l.createElement(C.x,{padding:"0 0 24px 0"},l.createElement(Z.zx,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){i(),n((0,ee.Dx)({duration:"FOREVER",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),l.createElement(Nt.B,null,(function(e){var n=e.isVisible,t=e.toggle,i=e.hide;return l.createElement(yt.J,{ariaId:a,isVisible:n,hide:i,display:"block",customZIndex:800,popoverRenderFn:function(){return l.createElement(C.x,{padding:"15px 20px",width:"400px"},l.createElement(X.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},l.createElement(C.x,{paddingTop:"10px"},l.createElement(Y.r,{"aria-controls":a,"aria-expanded":n?"true":"false",onClick:t},l.createElement("u",null,l.createElement(X.F,{scale:"S"},"Why am I seeing this?")))))})))),l.createElement(C.x,{display:"flex",justifyContent:"center"},l.createElement(X.F,{scale:"M"},"View our"," ",l.createElement(Y.r,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",l.createElement(Y.r,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",l.createElement(Y.r,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))})),_t=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function Ct(e){var n=e.post,t=n.creator,i=n.isLimitedState,a=e.children,o=(0,Se.H)().value,r=null==o?void 0:o.id,d=(0,Fe.I)(),s=l.useState(!1),m=M()(s,2),c=m[0],u=m[1];return l.useEffect((function(){u(!0)}),[]),i&&(t&&t.id)!==r?l.createElement(Nt.B,{initialVisibility:!0},(function(e){var n=e.isVisible,t=e.hide;return l.createElement(l.Fragment,null,l.createElement("div",{className:d(_t(n))},a),c&&l.createElement(Ot,{isVisible:n,hide:t}))})):a}var Dt=t(66018),Rt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserSocialLoginsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSocialLogins"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserSocialLogins_userSocialLogins"}}]}}]}}].concat(b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"UserSocialLogins_userSocialLogins"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserSocialLogins"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"twitter"}},{kind:"Field",name:{kind:"Name",value:"facebook"}},{kind:"Field",name:{kind:"Name",value:"google"}},{kind:"Field",name:{kind:"Name",value:"redactedEmailAddress"}},{kind:"Field",name:{kind:"Name",value:"isMember"}},{kind:"Field",name:{kind:"Name",value:"emailAddress"}},{kind:"Field",name:{kind:"Name",value:"userAvatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}}]}}]}}]))};function At(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Mt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?At(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):At(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Lt=function(e){var n=e.children,t=e.postRenderCallback,i=(0,Ne.Av)(),a=(0,I.hp)(),o=(0,k.PM)(),r=(0,I.P7)(o||""),d=r.userId,s=r.name,m=l.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),c=M()(m,2),u=c[0],p=c[1];l.useEffect((function(){var e=u.shouldRun,n=u.showSuggestedAccount,i=u.userSocialLogins;e&&(null==t||t(v,n,i))}),[u.shouldRun]);var v=(0,Se.H)().value,g=(0,kt.r)(),f=g.loading,h=g.error,S=g.viewerId;if(f||h)return null;var x=!("email"!==s||v&&v.mediumMemberAt||!d);return x&&d?l.createElement(j.A,{query:Rt,variables:{userId:d}},(function(e){var o=e.loading,l=e.error,r=e.data,d=(r=void 0===r?{}:r).userSocialLogins,s=!(o||l||!d||v&&!d.isMember||!d.facebook&&!d.google&&!d.twitter&&!d.redactedEmailAddress),m=Mt({loading:o,showSuggestedAccount:s},s&&{userSocialLogins:d,declineSuggestedAccount:function(){var e=(0,Ae.S)(d);i.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==d?void 0:d.userId,alternateUserSuggestionSourceUserId:S})}});return!t||o||u.shouldRun||p({shouldRun:!0,showSuggestedAccount:s,userSocialLogins:d}),(null==n?void 0:n(m))||null})):(t&&!u.shouldRun&&p(Mt(Mt({},u),{},{shouldRun:!0})),(null==n?void 0:n({showSuggestedAccount:x,loading:!1}))||null)},Bt=t(93537),jt=t(98223),Vt=function(){var e=(0,V.I0)(),n=(0,ee.w)(),t=(0,l.useState)("loading"),i=M()(t,2),a=i[0],o=i[1],r=(0,l.useCallback)((function(t,i,a){o(i?"rendered":"not_eligible"),i&&(e((0,Bt.T)(!0)),n({toastStyle:"ALTERNATE_USER",duration:"FOREVER",extraParams:{userSocialLogins:a}}))}),[n]);return(0,l.useEffect)((function(){e((0,jt.e)(!0))}),[]),(0,l.useEffect)((function(){"not_eligible"===a&&e((0,jt.e)(!1))}),[a]),l.createElement(Lt,{postRenderCallback:r})},Ut=t(87498),Ht=t(18634),Gt=t(68821),Wt=t(84509);var zt=t(26058),Yt=t(68427),Zt=t(84739),Kt=t(3934),qt=t(68216),Xt=t(35558),Qt=([{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromPubAuthor_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat(b()(qt.$m.definitions)),[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromPubAuthor_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat(b()(qt.nf.definitions)),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AuthorCollectionRecircFeed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AuthorCollectionRecircFeedInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorCollectionRecircFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StreamPostPreview_post"}}]}},{kind:"Field",name:{kind:"Name",value:"feedId"}}]}}]}}]}}].concat(b()(Kt.d.definitions),b()(Xt.w.definitions))}),$t=t(82053),Jt=t(4381),ei=t(43158),ni=t(47459),ti=t(21755),ii=function(e){return e.filter((function(e){return!(null==e||!e.feedId||null==e||!e.post)}))},ai=function(e){var n=e.item,t=n.feedId,i=n.post,a=e.index,o=e.source,r=e.lastIndex,d=(0,ke.F)(),s=(0,v.v9)((function(e){return e.client.viewerIsBot}));return l.createElement(ei.P,{size:{xs:12,sm:12,md:6,lg:6,xl:6}},l.createElement(C.x,{paddingBottom:{xs:"32px",sm:"32px",md:"56px",lg:"56px",xl:"56px"},height:"100%"},l.createElement(I.cW,{extendSource:!0,source:{name:o,index:a,feedId:s?void 0:t}},l.createElement($t.w,{index:a,post:i,scale:"S",aspectRatio:Jt.Pr.TwoToOne,lastIndex:r,dividerBreakpoints:[ti.j.xs,ti.j.sm],dividerColor:d.colorTokens.border.neutral.tertiary.base,miroImgFetchedWidth:679}))))},oi=function(e){var n=e.items,t=e.source;return l.createElement(ni.T,{alignItems:"stretch"},n.map((function(e,i){return l.createElement(ai,{key:e.post.id,item:e,index:i,source:t,lastIndex:n.length-1})})))},li=t(41116),ri=function(e){var n,t=e.postId,i=e.user,a=e.collection,r=(0,ke.F)(),d=(0,o.a)(Qt,{variables:{input:{authorId:i.id,collectionId:null==a?void 0:a.id,postId:t,paging:{limit:4}}}}),s=d.loading,m=d.error,c=d.data,u=(null==c||null===(n=c.authorCollectionRecircFeed)||void 0===n?void 0:n.items)||[],p=ii(u),k=(0,Zt.B)(i);if(null==p||!p.length||s||m)return null;var v=1===(null==p?void 0:p.length);return l.createElement(l.Fragment,null,l.createElement(P.P,{size:"app"},l.createElement(C.x,{marginTop:"40px",marginBottom:"32px"},l.createElement(bt.X6,{scale:"XS"},"More from ",i.name,a&&" and ".concat(a.name))),v?l.createElement(l.Fragment,null,l.createElement(Ht.y,{xs:!0,sm:!0},l.createElement(oi,{items:p,source:"author_recirc"})),l.createElement(Ht.y,{md:!0,lg:!0,xl:!0},l.createElement(zt.j,{post:p[0].post,scale:"L",index:0,lastIndex:0,dividerColor:r.colorTokens.border.neutral.tertiary.base}))):l.createElement(oi,{items:p,source:"author_recirc"}),l.createElement(St.E,{marginTop:v?{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"}:void 0,marginBottom:{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"},borderColor:r.colorTokens.border.neutral.tertiary.base}),l.createElement(C.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"}},l.createElement(li.j,{href:k},"See all from ",null==i?void 0:i.name),a&&l.createElement(di,{collection:a}))),l.createElement(St.E,{marginTop:{xs:"72px",sm:"72px",md:"96px",lg:"96px",xl:"96px"},borderColor:r.colorTokens.border.neutral.tertiary.base}))},di=function(e){var n=e.collection,t=(0,Yt.R)(n);return l.createElement(C.x,{marginTop:{xs:"16px",sm:"16px",md:"0px",lg:"0px",xl:"0px"},marginLeft:{xs:"0",sm:"0",md:"16px",lg:"16px",xl:"16px"}},l.createElement(li.j,{href:t},"See all from ",null==n?void 0:n.name))},si=t(21043),mi=t(81360),ci=t(36764),ui=t(92305),pi=t(54341),ki=t(27048),vi=t(18821),gi=t(89080),fi=t(4088),hi=t(82864),Si={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromListPostCard_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}}]}}].concat(b()(ki.W.definitions),b()(qt.$m.definitions),b()(pi.O.definitions),b()(vi.H.definitions))},xi={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromListPostCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromListPostCard_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Star_post"}}]}}].concat(b()(Si.definitions),b()(gi.W.definitions),b()(fi.u.definitions),b()(hi.W.definitions))},Ni={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromListQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"catalogId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"catalogId"},value:{kind:"Variable",name:{kind:"Name",value:"catalogId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"catalogUrl_catalog"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}}]}},{kind:"Field",name:{kind:"Name",value:"itemsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogItemId"}},{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromListPostCard_post"}}]}}]}}]}}]}}]}}]}}].concat(b()(qt.Ui.definitions),b()(pi.O.definitions),b()(xi.definitions))},yi=t(35989),bi=t(25145),Ei=t(63459),Fi=t(48342),wi=t(27323),Pi=t(52069),Ii=t(13663);function Ti(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Oi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ti(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ti(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _i,Ci=(0,l.forwardRef)((function(e,n){var t=e.post,i=t.collection,a=t.creator,o=t.title,r=t.isLocked,d=t.readingTime,s=t.createdAt,m=(0,bi.L)(t);return l.createElement(C.x,{marginRight:"16px",flexShrink:"0",ref:n},l.createElement(Ii.o,{post:Oi(Oi({},t),{},{previewContent:{isFullContent:!1}}),presentationContext:"POST_PREVIEW",shouldReportClientViewed:!1},l.createElement(wi.P,{href:m},l.createElement(C.x,{borderRadius:"4px",border:"BASE_LIGHTER",background:"white",width:"240px",height:"148px",padding:"24px",display:"flex",flexDirection:"column"},l.createElement(C.x,{flexGrow:"1",flexBasis:"0%"},a&&l.createElement(C.x,{display:"flex",alignItems:"center",marginBottom:"8px"},l.createElement(ci.h,{author:a,collection:i,includeAvatar:!0,includeVerifiedAuthorBadge:!0})),l.createElement(Pi.Dx,{scale:"XS",clamp:2},o)),l.createElement(C.x,{display:"flex",alignItems:"center"},r&&l.createElement(l.Fragment,null,l.createElement(yi.U,{post:t,hideLabelDesktop:!0}),l.createElement(Yn.O,{margin:"0 8px"})),d&&l.createElement(l.Fragment,null,l.createElement(X.F,{scale:"S"},l.createElement(Fi.K,{readingTime:d})),l.createElement(Yn.O,{margin:"0 8px"})),l.createElement(X.F,{scale:"S"},l.createElement(Ei.E,{timestamp:s})))))))})),Di=function(e){var n,t,i=e.catalogId,a=e.currentPostId,r=(0,ke.F)(),d=(0,v.v9)((function(e){return e.config.authDomain})),s=(0,_e.s)(),m=(0,l.useRef)(null),c=s===ti.j.xs||s===ti.j.sm?300:600,u=(0,o.a)(Ni,{variables:{catalogId:i,limit:11}}),p=u.data;if(u.loading)return null;var k=null==p?void 0:p.catalogById;if("Catalog"!==(null==k?void 0:k.__typename))return null;var g=(0,T.yk)(k,d),f=null==k||null===(n=k.itemsConnection)||void 0===n||null===(t=n.items)||void 0===t?void 0:t.map((function(e){var n;return"Post"===(null===(n=e.entity)||void 0===n?void 0:n.__typename)?e.entity:void 0})).filter((function(e){return!!e&&e.id!==a})).slice(0,10);return f.length?l.createElement(I.cW,{extendSource:!0,source:{name:"list_recirc",catalogId:k.id}},l.createElement(C.x,{marginBottom:{xs:"40px",sm:"40px",md:"52px",lg:"52px",xl:"52px"}},l.createElement(St.E,{borderColor:r.colorTokens.border.neutral.primary.base,marginBottom:{xs:"30px",sm:"30px",md:"50px",lg:"50px",xl:"50px"}}),l.createElement(P.P,{size:"app"},l.createElement(bt.X6,{scale:"XS"},l.createElement(Y.r,{href:g},'More from the list: "',(0,ui.Ze)(k),'"')),l.createElement(C.x,{display:"flex",marginTop:"8px",alignItems:"center"},l.createElement(C.x,{flexShrink:"0",whiteSpace:"nowrap",marginRight:"4px"},l.createElement(X.F,{scale:"S"},"Curated by")),l.createElement(ci.h,{author:k.creator}))),l.createElement(C.x,{margin:"24px 0",position:"relative"},l.createElement(mi.J,{firstItemRef:m,scrollPixels:c,arrowPadding:"8px"},l.createElement(C.x,{flexShrink:"0",width:"calc(50% - ".concat(si.d/2,"px)"),xs:{width:(0,D.a)(si.l6)},sm:{width:(0,D.a)(si.l6)}}),f.map((function(e,n){return l.createElement(Ci,{key:"".concat(e.id,"-").concat(n),post:e,ref:0===n?m:null})})))),l.createElement(P.P,{size:"app"},l.createElement(X.F,{scale:"S",color:"ACCENT"},l.createElement(Y.r,{href:g},"View list"))))):null},Ri=function(e){var n=e.currentPostId,t=(0,k.PM)(),i=(0,I.P7)(null!=t?t:"").catalogId;return i?l.createElement(Di,{catalogId:i,currentPostId:n}):null},Ai=t(92661),Mi=t(60028),Li={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromMediumQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recirc"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"6"}}]}},{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RexRecircItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreview_post"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"postCatalogRecirc"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"4"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogPreview_catalog"}}]}}]}}]}}].concat(b()(Kt.d.definitions),b()(Mi.N.definitions))},Bi=t(44266),ji=function(e){var n=e.list,t=(0,Ne.Av)(),i=(0,I.pK)(),a=(0,l.useCallback)((function(){t.event("list.presented",{listId:n.id,source:i})}),[n.id,i]),o=(0,we.g)({onPresentedFn:a});return l.createElement(ei.P,{size:{xs:12,sm:12,md:6,lg:6,xl:6},ref:o},l.createElement(Bi.S,{catalog:n,titleMargin:"4px"}))},Vi=function(e){var n=e.lists,t=(0,ke.F)();return l.createElement(l.Fragment,null,l.createElement(St.E,{marginBottom:"40px",borderColor:t.colorTokens.border.neutral.tertiary.base}),l.createElement(bt.X6,{scale:"XS"},"Lists"),l.createElement(C.x,{marginTop:"32px"},l.createElement(I.cW,{extendSource:!0,source:{name:"read_next_recirc"}},l.createElement(ni.T,{alignItems:"flex-start"},n.map((function(e){return l.createElement(ji,{key:e.id,list:e})}))))),l.createElement(St.E,{marginTop:{xs:"16px",sm:"16px",md:"24px",lg:"24px",xl:"24px"},marginBottom:{xs:"32px",sm:"32px",md:"56px",lg:"56px",xl:"56px"},borderColor:t.colorTokens.border.neutral.tertiary.base}))},Ui=function(e){var n,t=e.postId,i=(0,ke.F)(),a=(0,Ai.qt)("ShowHome",{}),r=(0,o.a)(Li,{variables:{postId:t,limit:6},skip:!t}),d=r.loading,s=r.error,m=r.data,c=null==m||null===(n=m.recirc)||void 0===n?void 0:n.items,u=null==m?void 0:m.postCatalogRecirc.catalogs;if(null==c||!c.length||d||s)return null;var p=ii(c),k=p.slice(0,2),v=p.slice(2);return l.createElement(P.P,{size:"app"},l.createElement(C.x,{paddingTop:"88px",paddingBottom:"40px"},l.createElement(bt.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"Recommended from Medium"),l.createElement(C.x,{marginTop:{xs:"40px",sm:"40px",md:"56px",lg:"56px",xl:"56px"}},l.createElement(oi,{items:k,source:"read_next_recirc"})),null!=u&&u.length?l.createElement(Vi,{lists:u}):null,l.createElement(oi,{items:v,source:"read_next_recirc"}),l.createElement(St.E,{marginBottom:{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"},borderColor:i.colorTokens.border.neutral.tertiary.base}),l.createElement(li.j,{href:a},"See more recommendations")))},Hi=t(937),Gi=t(74419),Wi=t(80350),zi=t(32223),Yi=t(5422),Zi=t(47834),Ki=t(65968),qi=t(64238),Xi=t(26700),Qi=t(31711),$i=t(92780),Ji=t(68356),ea=t.n(Ji),na=t(50742),ta=ea()({loading:function(){return null},loader:function(){return t.e(9076).then(t.bind(t,26766))},modules:["./GiveTipButton"],webpack:function(){return[26766]},render:(0,na.n)("GiveTipButton")}),ia=function(e){var n=e.user,t=e.postId,i=(0,Se.H)().value,a=i&&i.id===n.id,o=(0,Ai.H2)(),r=(0,U.V)({name:"can_send_tips_v0",placeholder:!1}),d="rgba(26, 137, 23, 1)"!==(0,ke.F)().colorTokens.background.accent.primary.base,s=(0,g.Rk)(o("ShowSettingsTab",{setting:zi.B.Account}),{},Yi.el);return l.createElement(l.Fragment,null,a?l.createElement(Z.zx,{buttonStyle:d?"STRONG":"BRAND",size:"SMALL",href:s},l.createElement(C.x,{whiteSpace:"nowrap"},"Edit profile")):l.createElement(I.cW,{source:{name:"publisher_header_actions"},extendSource:!0},l.createElement(C.x,{display:"flex"},l.createElement(Qi.N,{creator:n,followButtonSize:"REGULAR",susiEntry:"follow_profile",showMembershipUpsellModal:!0,width:"auto",buttonStyleFn:function(e){return function(e){return d?e?"OBVIOUS":"STRONG":e?"SUBTLE":"BRAND"}(e)}}),r&&l.createElement(ta,{creatorId:n.id,postId:t,buttonStyle:d?"STRONG":"BRAND"}))))},aa=function(e){var n,t=e.user,i=e.collection,a=!(null===(n=i.editors)||void 0===n||!n.find((function(e){var n;return(null==e||null===(n=e.user)||void 0===n?void 0:n.id)===t.id}))),o=(0,$i.n)({name:"detail",scale:"M",color:"LIGHTER",clamp:1}),r=(0,Fe.I)();return l.createElement("div",{className:r([o,{display:"flex",whiteSpace:"pre-wrap"}])},l.createElement(Yn.O,{margin:"0 8px"}),l.createElement(C.x,{tag:"span",flexShrink:"0"},a?"Editor for ":"Writer for "),l.createElement(Xi.q,{collection:i,clamp:1}))},oa=function(e){var n=e.user,t=e.postId,i=e.collection,a=(0,ke.F)(),o=(0,Zt.B)(n),r=(0,qi.o)(n),d=(0,_e.s)(),s=d===ti.j.xs||d===ti.j.sm,m=s?64:72,c=s?24:32;return l.createElement(P.P,{size:"app"},l.createElement(C.x,{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},l.createElement(Zi.j,{author:n,collection:i,authorSize:m,collectionImageSize:c,collectionOffset:"-16px",borderColor:a.colorTokens.background.neutral.tertiary.base}),l.createElement(Ht.y,{xs:!0,sm:!0},l.createElement(ia,{user:n,postId:t}))),l.createElement(C.x,{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},l.createElement(C.x,null,l.createElement(C.x,{display:"flex",alignItems:"center"},l.createElement(Y.r,{href:o,rules:{display:"flex",alignItems:"center"}},l.createElement(Gi.i,{prefix:"Written by ",publisher:n,scale:"M"})),r&&l.createElement(Ki.G,{marginLeft:"2px",marginTop:"1px",size:"M",userId:n.id,alignSelf:{xs:"flex-end",sm:void 0,md:void 0,lg:void 0,xl:void 0}})),l.createElement(C.x,{marginTop:"8px",display:"flex"},l.createElement(C.x,{flexShrink:"0"},l.createElement(Wi.e,{publisher:n,scale:"M",color:"DARKER",inline:!0,showWhenZero:!0})),i&&l.createElement(aa,{user:n,collection:i})),l.createElement(C.x,{marginTop:"16px"},l.createElement(Hi.y,{publisher:n,color:"DARKER"}))),l.createElement(Ht.y,{md:!0,lg:!0,xl:!0},l.createElement(ia,{user:n,postId:t}))),l.createElement(St.E,{marginTop:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"},borderColor:a.colorTokens.border.neutral.tertiary.base}))},la=t(40806),ra=t(70929),da=t(10654),sa=t(51277),ma=t(84130),ca={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MobileFooterPostActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBookmarkButton_post"}}]}}].concat(b()(da.x.definitions),b()(sa.v.definitions),b()(ma.G.definitions))},ua={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MobileFooterPostActionsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MobileFooterPostActions_post"}}]}}]}}].concat(b()(ca.definitions))},pa=t(25011),ka=function(e){var n,t,i=e.post,a=e.isVisible,r=l.useContext(On.f).openSidebar,d=(0,o.a)(ua,{variables:{postId:i.id},ssr:!1}),s=d.data,m=d.loading,c=d.error;return m?null:(t=c||null==s||!s.post?i:s.post,l.createElement(pa.p,{isVisible:a,multiVoteButton:l.createElement(Pn.S,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,shouldShowResponsiveLabelText:!0,susiEntry:"clap_footer",buttonColor:"LIGHTER",countScale:"S"}),responsesButton:l.createElement(Tn.h,{responsesCountScale:"S",trackingData:{postId:t.id},responsesCount:(null===(n=t.postResponses)||void 0===n?void 0:n.count)||null,isLimitedState:t.isLimitedState,handleClick:r,countStylesOverride:{marginLeft:"4px"},allowResponses:t.allowResponses,disabledTooltipText:"Responses hidden"}),saveButton:l.createElement(ra.o,{kind:J.ej.POST,target:t})}))},va=t(93661),ga=t(90586),fa=t(86911);!function(e){e.None="",e.Control="Control",e.E="E",e.F="F",e.G="G"}(_i||(_i={}));var ha=t(5129),Sa=t(19374),xa=function(e){return{"& > path":{fill:e.colorTokens.foreground.neutral.primary.base}}},Na={backgroundColor:fa.bI,position:"fixed",bottom:"0",width:"100%"},ya={position:"relative",":after":{position:"absolute",content:'""',left:"-16px",right:"-16px",top:"-12px",bottom:"-12px"}},ba=function(e){var n=e.hide,t=e.click,i=e.version,a=e.post,o=(0,Fe.I)(),r=(0,Ai.H2)(),d=l.useState(0),s=M()(d,2),m=s[0],c=s[1],u=(0,va.kr)({membershipType:va.FM.Monthly}).amount;return l.createElement(ha.S,{height:m,setHeight:c,isVisible:!0,hideDirection:"down",containerRules:Na,onHide:n,contentProps:{flexDirection:"column",padding:{xs:"48px 0",sm:"48px 0",md:"48px 0 56px",lg:"48px 0 56px",xl:"48px 0 56px"}},hideOnEscapeKey:!0},(function(e){var n=e.hide;return l.createElement(l.Fragment,null,l.createElement(C.x,{textAlign:"center",width:{xs:"100%",sm:"100%",md:"680px",lg:"680px",xl:"680px"},padding:{xs:"0 24px",sm:" 0 24px",md:"0",lg:"0",xl:"0"}},l.createElement(C.x,{marginBottom:"32px"},l.createElement(Oe.Z,{className:o(xa),width:"20",height:"20"})),l.createElement(C.x,{marginBottom:"32px"},l.createElement(Q.H2,{scale:"M",color:"DARKER"},i===_i.E?"Pay authors with Medium Membership.":"Support independent authors and access the best of Medium.")),l.createElement(C.x,{marginBottom:"32px"},l.createElement(ga.QE,{scale:"S",color:"DARKER"},"Authors earn when you read member-only stories.")),l.createElement(C.x,{marginBottom:"32px"},l.createElement(We.R,{operation:"register",susiEntry:"lo_non_moc_upsell",isButton:!0,buttonStyle:"BRAND",redirectTo:r("ShowPay",{}),additionalClickActions:t,post:a},"Upgrade for less than $",u,"/month")),l.createElement(We.R,{operation:"register",susiEntry:"lo_non_moc_upsell",inline:!0,linkStyle:"OBVIOUS",additionalClickActions:t,post:a},l.createElement(Ht.y,{xs:!0,sm:!0},l.createElement("span",{className:o(ya)},"Or sign up for free")),l.createElement(Ht.y,{md:!0,lg:!0,xl:!0},"Or sign up for free"))),l.createElement(Sa.L,{onClose:n,isDark:!0,containerProps:{position:"absolute",top:"24px",padding:"0"}}))}))},Ea=t(78817);function Fa(){return(Fa=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var wa=l.createElement("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"});const Pa=function(e){return l.createElement("svg",Fa({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),wa)};var Ia=t(68894),Ta=t(95729),Oa={height:"22px",flexShrink:0,marginBottom:{xs:"16px",sm:"16px",md:void 0,lg:void 0,xl:void 0}},_a={transform:"rotate(-180deg)",stroke:"currentColor",height:"18px",width:"18px",marginLeft:"4px",position:{xs:"absolute",sm:"absolute",md:void 0,lg:void 0,xl:void 0},right:0},Ca=function(e,n){return{display:"flex",alignItems:"center",justifyContent:{xs:void 0,sm:void 0,md:"space-between",lg:"space-between",xl:"space-between"},flexDirection:{xs:"column",sm:"column",md:void 0,lg:void 0,xl:void 0},opacity:e?1:0,transition:"opacity 0.2s ease-out",height:e&&!n?void 0:0,transform:e&&!n?void 0:{xs:void 0,sm:void 0,md:"translateY(-12px)",lg:"translateY(-12px)",xl:"translateY(-12px)"}}},Da=function(e){var n=e.expand,t=e.hide,i=e.isCollapsed,a=e.isAnimating,o=(0,Fe.I)();return l.createElement("div",{className:o(Ca(i,a))},l.createElement(C.x,{display:"flex",alignItems:"center",maxWidth:"610px",flexDirection:{xs:"column",sm:"column",md:void 0,lg:void 0,xl:void 0}},l.createElement(Ta.Z,{className:o(Oa)}),l.createElement(Ht.y,{md:!0,lg:!0,xl:!0,borderRight:"BASE_LIGHT",margin:"0 24px",alignSelf:"stretch"}),l.createElement(Q.H2,{scale:"XS",color:"DARKER"},"Sign up to discover human stories that deepen your understanding of the world.")),l.createElement(C.x,{display:"flex",flexShrink:"0",flexDirection:{xs:"column",sm:"column",md:void 0,lg:void 0,xl:void 0},alignSelf:{xs:"stretch",sm:"stretch",md:void 0,lg:void 0,xl:void 0},marginLeft:{xs:void 0,sm:void 0,md:"24px",lg:"24px",xl:"24px"},marginTop:{xs:"24px",sm:"24px",md:void 0,lg:void 0,xl:void 0}},l.createElement(C.x,{marginRight:{xs:void 0,sm:void 0,md:"16px",lg:"16px",xl:"16px"},marginBottom:{xs:"16px",sm:"16px",md:void 0,lg:void 0,xl:void 0}},l.createElement(Z.zx,{buttonStyle:"BRAND",onClick:n,width:{xs:"100%",sm:"100%",md:void 0,lg:void 0,xl:void 0}},l.createElement(C.x,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},"Compare options",l.createElement(Pa,{className:o(_a)})))),l.createElement(Z.zx,{buttonStyle:"SUBTLE",onClick:t,width:{xs:"100%",sm:"100%",md:void 0,lg:void 0,xl:void 0}},"Not now")))},Ra=t(6479),Aa=t.n(Ra),Ma=t(12722),La=function(e){return{"> path":{fill:e.colorTokens.foreground.neutral.primary.base},marginRight:"8px",height:"16px",width:"16px"}},Ba=function(e){var n=e.title,t=e.includeStar,i=e.benefits,a=e.onClick,o=e.href,r=e.buttonText,d=e.post,s=Aa()(e,["title","includeStar","benefits","onClick","href","buttonText","post"]),m=(0,Fe.I)();return l.createElement(C.x,B()({borderRadius:"4px",backgroundColor:"BACKGROUND",border:"BASE_LIGHTER",padding:"24px",width:{xs:"100%",sm:"100%",md:"320px",lg:"320px",xl:"320px"}},s),l.createElement(C.x,{display:"flex",alignItems:"center"},t&&l.createElement(Oe.Z,{className:m(La)}),l.createElement(bt.X6,{scale:"XS"},n)),l.createElement(C.x,{marginTop:"16px",height:"1px",backgroundColor:"BASE_NORMAL"}),i.map((function(e,n){return l.createElement(C.x,{key:n,marginTop:"16px",display:"flex"},l.createElement(C.x,{marginRight:"12px"},l.createElement(Ma.Z,null)),l.createElement(X.F,{scale:"M",color:"DARKER"},e))})),l.createElement(C.x,{marginTop:"24px",marginBottom:"16px",height:"1px",backgroundColor:"BASE_NORMAL"}),l.createElement(We.R,{operation:"register",susiEntry:"lo_non_moc_upsell",isButton:!0,buttonStyle:"BRAND",redirectTo:o,additionalClickActions:a,buttonWidth:"100%",post:d},r))},ja=t(66802),Va={xs:"440px",sm:"440px",md:"1192px",lg:"1192px",xl:"1192px"},Ua={height:{xs:"22px",sm:"22px",md:"32px",lg:"32px",xl:"32px"},marginBottom:{xs:"16px",sm:"16px",md:"32px",lg:"32px",xl:"32px"}},Ha={position:"absolute",bottom:"0",left:"0",zIndex:"-1"},Ga=["Distraction-free reading. No ads.","Organize your knowledge with lists and highlights.","Tell your story. Find your audience."],Wa=["Access the best member-only stories.","Support independent authors.","Listen to audio narrations.","Read offline.","Join the Partner Program and earn for your writing."],za=function(e){var n=e.onClick,t=e.post,i=(0,Fe.I)(),a=(0,va.kr)({membershipType:va.FM.Monthly}),o=a.amount,r=a.currency,d=(0,Ai.H2)();return l.createElement(C.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"column",lg:"column",xl:void 0},alignItems:"center"},l.createElement(Jt.UV,{miroId:"5c50caa54067fd622d2f0fac18392213bf92f6e2fae89b691e62bceb40885e74",rules:Ha}),l.createElement(C.x,{marginRight:{xs:void 0,sm:void 0,md:void 0,lg:void 0,xl:"64px"},marginBottom:{xs:"24px",sm:"24px",md:"48px",lg:"48px",xl:void 0},textAlign:{xs:"center",sm:"center",md:"center",lg:"center",xl:void 0}},l.createElement(Ta.Z,{className:i(Ua)}),l.createElement(Q.H2,{scale:{xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},color:"DARKER"},"Sign up to discover human stories that deepen your understanding of the world.")),l.createElement(C.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:void 0,lg:void 0,xl:void 0},alignItems:"center"},l.createElement(Ba,{title:"Free",benefits:Ga,buttonText:"Sign up for free",onClick:n,post:t,marginBottom:{xs:"24px",sm:"24px",md:void 0,lg:void 0,xl:void 0},marginRight:{xs:void 0,sm:void 0,md:"40px",lg:"40px",xl:"32px"}}),l.createElement(Ba,{title:"Membership",includeStar:!0,benefits:Wa,buttonText:"Try for ".concat((0,ja.xG)({amount:o,currency:r,floatingDigits:[0,2]}),"/month"),onClick:n,href:d("ShowPay",{}),post:t})))},Ya=function(e){return function(n){return{backgroundColor:n.colorTokens.background.neutral.tertiary.base,borderTop:"1px solid ".concat(n.colorTokens.border.neutral.secondary.base),position:"fixed",bottom:"0",width:"100%",maxHeight:e?{xs:"100%",sm:"809px",md:"631px",lg:"603px",xl:"463px"}:{xs:"316px",sm:"253px",md:"154px",lg:"91px",xl:"91px"},overflow:e?"auto":void 0,transition:"max-height 0.2s ease-out"}}},Za={position:"absolute",top:"16px",right:"16px"},Ka=function(e,n){return{opacity:e?1:0,transition:"opacity 0.2s ease-out",height:e||n?void 0:0,visibility:e||n?void 0:"hidden"}},qa=function(e){var n=e.hide,t=e.click,i=e.post,a=(0,Fe.I)(),o=(0,l.useState)(0),r=M()(o,2),d=r[0],s=r[1],m=(0,Ia.O)(!1),c=M()(m,3),u=c[0],p=c[1],k=c[2],v=(0,l.useState)(!1),g=M()(v,2),f=g[0],h=g[1],S=(0,l.useCallback)((function(){h(!1)}),[]),x=(0,l.useCallback)((function(){h(!0),k()}),[]),N=(0,l.useCallback)((function(){h(!0),p()}),[]);return l.createElement(ha.S,{height:d,setHeight:s,isVisible:!0,hideDirection:"down",containerRules:Ya(u),onHide:n,contentProps:{flexDirection:"column",padding:f||u?{xs:"32px 24px 28px",sm:"32px 24px 28px",md:"56px 24px 40px",lg:"56px 24px 40px",xl:"56px 24px 40px"}:{xs:"32px 24px 24px",sm:"32px 24px 24px",md:"24px",lg:"24px",xl:"24px"},alignItems:"center"},hideOnEscapeKey:!0,onTransitionEnd:S},(function(e){var n=e.hide;return l.createElement(C.x,{maxWidth:Va,width:"100%"},l.createElement(Da,{hide:n,expand:N,isCollapsed:!u,isAnimating:f}),l.createElement("div",{className:a(Ka(u,f))},l.createElement(Ea.P,{rules:Za,onClick:x},l.createElement(Pa,null)),l.createElement(za,{onClick:t,post:i})))}))},Xa=function(e){return{backgroundColor:e.colorTokens.background.neutral.tertiary.base,borderTop:"1px solid ".concat(e.colorTokens.border.neutral.secondary.base),position:"fixed",width:"100%"}},Qa=function(e){var n=e.hide,t=e.click,i=e.height,a=e.containerRef,o=e.post,r=(0,l.useRef)(0),d=(0,l.useRef)(0),s=(0,_e.s)();return(0,l.useEffect)((function(){if(s&&s!==ti.j.xl&&!(i<window.innerHeight/2)){var e=function(){var e=window.scrollY,n=i-window.innerHeight/2,t=i>window.innerHeight?n:Math.min(i/2,n),o=e<=0?0:Math.min(t,d.current+e-r.current);d.current=Math.max(0,o),r.current=e,a.current&&(a.current.style.removeProperty("bottom"),0===d.current?a.current.style.top="50vh":a.current.style.top="calc(50vh - ".concat(d.current,"px)"))};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}a.current&&(a.current.style.removeProperty("top"),a.current.style.bottom="0")}),[i,s]),l.createElement(C.x,{maxWidth:Va},l.createElement(Sa.L,{onClose:n,containerProps:{position:"absolute",top:"16px",right:"16px",padding:"0"}}),l.createElement(za,{onClick:t,post:o}))},$a=function(e){var n=e.hide,t=e.click,i=e.post,a=(0,l.useState)(0),o=M()(a,2),r=o[0],d=o[1];return l.createElement(ha.S,{height:r,setHeight:d,isVisible:!0,hideDirection:"down",containerRules:Xa,onHide:n,contentProps:{flexDirection:"column",padding:{xs:"32px 24px 28px",sm:"32px 24px 28px",md:"56px 24px 40px",lg:"56px 24px 40px",xl:"56px 24px 40px"},alignItems:"center"},hideOnEscapeKey:!0},(function(e){var n=e.hide,a=e.containerRef;return l.createElement(Qa,{height:r,hide:n,click:t,containerRef:a,post:i})}))},Ja=function(e){var n=e.hide,t=e.click,i=e.version,a=e.post;switch(i){case _i.Control:case _i.E:return l.createElement(ba,{hide:n,click:t,version:i,post:a});case _i.F:return l.createElement($a,{hide:n,click:t,post:a});case _i.G:return l.createElement(qa,{hide:n,click:t,post:a})}return null},eo=t(3013),no=30*Ut.pU,to=function(){return null};var io=t(18733),ao=function(e){var n=e.post,t=e.postIsLocked,i=(0,_e.s)(),a=i===ti.j.xs||i===ti.j.sm,o=function(e){var n,t,i,a,o=(t=(0,U.d)("lo_non_moc_upsell"),i=t.value,(a=t.loading)?{version:_i.None,loading:a}:{version:i||_i.Control,loading:!1}).version,d=(0,v.v9)((function(e){return e.client.hydrated})),s=(0,Ne.Av)(),m=(0,Se.H)(),c=m.value,u=m.error,p=!m.loading&&!u&&!c,k=(0,Ia.O)((0,eo.V)((0,gt.D4)(),no)),g=M()(k,2),f=g[0],h=g[1],S=(0,l.useCallback)((function(){(0,gt.Fv)(new Date),s.event("upsell.dismissed",{dimension:"post_footer_upsell"}),h()}),[s,h]),x=(0,l.useCallback)((function(){s.event("upsell.clicked",{dimension:"post_footer_upsell"})}),[s]),N=(0,r.TH)(),y=(0,Ai.$B)(N.pathname),b="post"===(null==y||null===(n=y.route)||void 0===n?void 0:n.mediumAppPage);return!e&&b&&p&&d&&!f?{version:o,hide:S,click:x}:{version:_i.None,hide:to,click:to}}(t),d=o.version,s=o.hide,m=o.click,c=d!==_i.None;if(!a&&!c)return null;var u=a&&!c?O.y:0,p=a&&!c;return l.createElement(la.o,{maxHeightToHideOnScroll:u,isUpsellVisible:c},(function(e){var t=e.isStuck;return l.createElement(l.Fragment,null,c&&l.createElement(I.cW,{extendSource:!0,source:{dimension:"post_footer_upsell",postId:n.id}},l.createElement(io.N8,null,l.createElement(Ja,{hide:s,click:m,version:d,post:n}))),p&&l.createElement(ka,{post:n,isVisible:t}))}))},oo=function(e){var n=e.post,t=e.meteringInfo,i=(0,Ne.Av)(),a=(0,ke.F)(),d=l.useRef(null),s=(0,Se.H)(),m=s.value,c=s.loading,u=s.error,p=(0,v.v9)((function(e){return e.client.hydrated}))&&!c&&!u&&!m,g=n.isLocked,f=n.collection,h=n.creator,S=n.content.isLockedPreviewOnly,x=(0,on.D)(n,d,t),N=!!n.inResponseToEntityType;(0,l.useEffect)((function(){p&&!g?i.event("experiment.eligible",{experimentId:"ac37e40f68ad"}):p&&g?i.event("experiment.eligible",{experimentId:"f824469902b3"}):!p&&g&&i.event("experiment.eligible",{experimentId:"5db1e4041dc"})}),[p,i,g]);var y=g?{className:"meteredContent"}:{},b=(f||{}).googleAnalyticsId;return(0,ce.t)({ids:b?[b]:null}),(0,Gt.V)(d,n),function(e,n,t){var i=(0,Ne.Av)(),a=(0,I.pK)(),o=(0,l.useState)(!1),r=M()(o,2),d=r[0],s=r[1],m=(0,V.I0)(),c=(0,pe.k)();(0,l.useEffect)((function(){if(!d&&t){var o=function(){if(n.current&&!d){var o,l=(0,Wt.L6)(n.current),r=(0,Wt.tM)(l),u=r.top+r.height,p=(0,Wt.tM)((0,Wt.t_)()),k=p.top+p.height;if(!t.content.isLockedPreviewOnly&&k>=u-100&&a.includes("post_page")){s(!0),m((0,ee.C2)(!0));var v={source:a,postId:t.id,collectionSlug:t.collection?t.collection.slug:"",sequenceId:t.sequence?t.sequence.sequenceId:""};i.event("post.clientRead",v),c&&(c.setLocalAttribute("latest.post.clientRead.url",window.location.href),v.postId&&c.setLocalAttribute("latest.post.clientRead.postId",v.postId),v.source&&c.setLocalAttribute("latest.post.clientRead.source",v.source)),e||(o=t.id,pt(rt,o,Date.now()))}}};return $.V6.on("scroll_end",o),function(){$.V6.off("scroll_end",o)}}}),[d,t,c]),(0,l.useEffect)((function(){return function(){m((0,ee.C2)(!1))}}),[])}(!!m,d,n),function(e){var n=e.post,t=e.clientViewedContext,i=void 0===t?1:t,a=e.overrideCommonData,r=void 0===a?{}:a;(function(e){var n,t,i=e.post,a=e.meteringInfo,l=(0,v.v9)((function(e){return e.config.authDomain})),r=null==i?void 0:i.id,d=(0,Jn.Pd)(null==i?void 0:i.creator),s=d.viewerEdge,m=d.loading,c=(0,G.g)(null==i?void 0:i.collection),u=c.viewerEdge,p=c.loading,k=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,o.a)($n,{variables:{topicId:n},ssr:!1,skip:!n}),i=t.loading,a=t.error,l=t.data;return i?{loading:i}:a?{error:a}:{viewerEdge:null==l||null===(e=l.topic)||void 0===e?void 0:e.viewerEdge}}(null==i||null===(n=i.primaryTopic)||void 0===n?void 0:n.id),g=k.viewerEdge,f=k.loading,h=p||m||f;(0,Qn.e)({data:{canonicalUrl:r&&null!=i&&null!==(t=i.collection)&&void 0!==t&&t.domain?(0,T.o2)(l,r):void 0,creatorViewerEdge:s,collectionViewerEdge:u,meteringInfo:a,post:i||void 0,topicViewerEdge:g},loading:!r||h||!(null!=i&&i.isPublished),show:!0})})({post:n,meteringInfo:e.meteringInfo}),function(e){var n=e.post,t=e.clientViewedContext,i=e.overrideCommonData,a=void 0===i?{}:i,o=(0,Ne.Av)(),r=(0,kt.r)(),d=r.loading,s=r.viewerId,m=s&&(0,vt.Q)(s),c=(null==n?void 0:n.collection)||{},u=c.id,p=c.slug,k=((null==n?void 0:n.content)||{}).validatedShareKey,v=null==n?void 0:n.id,g=l.useState(!1),f=M()(g,2),h=f[0],S=f[1],x=l.useState(null),N=M()(x,2),y=N[0],b=N[1],E=l.useCallback(it()(nt().mark((function e(){var n,t,i;return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,at.r)();case 2:t=e.sent,i=null!==(n="Unknown"===t.browserName||t.isPrivate)&&void 0!==n?n:null,S(!0),b(i);case 6:case"end":return e.stop()}}),e)}))),[]);l.useEffect((function(){!d&&v&&s&&h?(null!=n&&n.isPublished?(m||(n.isLocked?(0,gt.yB)():(0,gt.B8)()),o.event("post.clientViewed",{postId:v,collectionId:u,collectionSlug:p,context:t,isFriendLink:!!k,source:"post_page",isIncognitoMode:y,isTruncated:n.content.isLockedPreviewOnly},a)):o.event("post.draftViewed",{postId:v}),m||function(e){pt(lt,e,Date.now())}(v)):h||E()}),[v,s,d,y,E])}({post:n,clientViewedContext:i,overrideCommonData:r})}({post:n,meteringInfo:t}),function(e){var n=(0,Se.H)().value,t=(0,nn.D)(tn,{variables:{postId:e.id}}),i=M()(t,2),a=i[0],o=i[1].called;l.useEffect((function(){e.isPublished||null==n||!n.id||o||a()}),[n])}(n),function(){var e=(0,ee.w)(),n=l.useState(!0),t=M()(n,2),i=t[0],a=t[1],o=(0,Se.H)().value,r=(0,v.p9)((function(e){return e.session.xsrf})),d=(0,k.PM)(),s=(0,I.P7)(d||"").name;l.useEffect((function(){function e(){return(e=it()(nt().mark((function e(){var n;return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,gt.vA)(o.id,r);case 4:n=e.sent,a(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[null==o?void 0:o.id,r]),l.useEffect((function(){null!=o&&o.createdAt&&(new Date).getTime()-o.createdAt>5*Ut.uD&&!i&&"login"===s&&(e({toastStyle:"SIGN_IN_CONFIRMATION",duration:"FOREVER"}),a(!0),(0,gt.oy)(o.id,r))}),[o,i,e,s,r])}(),function(e){var n,t,i,a,d,s=(0,r.TH)().hash,m=null==s||null===(n=s.replace("#",""))||void 0===n?void 0:n.split("-"),c=M()(m,2),u=c[0],p=c[1],g=(0,v.v9)((function(e){return e.navigation.referrer})),f=(0,k.G1)(),h=(0,k.PM)(),S=(0,o.a)(ht,{variables:{postId:null==e?void 0:e.id,postMeteringOptions:{referrer:g,sk:f,source:h}},ssr:!1,skip:!p}),x=S.loading,N=S.error,y=S.data,b=(null!=y?y:{}).post,E=null==b||null===(t=b.privateNotes)||void 0===t?void 0:t.find((function(e){return(null==e?void 0:e.id)===p})),F=null!==(i=null==b||null===(a=b.content)||void 0===a||null===(d=a.bodyModel)||void 0===d?void 0:d.paragraphs)&&void 0!==i?i:[],w=new Set(F.map((function(e){return e.name})).filter(ft.b)),P=!!E&&w.has(u),I=!(x||N||!p||P),T=(0,V.I0)();(0,l.useEffect)((function(){I&&T((0,ee.Dx)({duration:"NEXTPAGE",message:"The note you're looking for was deleted."}))}),[I,T,ee.Dx])}(n),l.createElement(C.x,null,!n.isLocked&&l.createElement(I.cW,{source:{dimension:"post_top_nav_upsell"}},l.createElement(ue.T,null)),l.createElement(xt.k,{post:n},l.createElement(yn,{post:n}),l.createElement(Vt,null),l.createElement(Dt.L,{post:n,user:h,forceLoad:(null==m?void 0:m.id)===(null==h?void 0:h.id)}),l.createElement(C.x,{marginBottom:{xs:"4px",sm:"4px",md:"68px",lg:"68px",xl:"68px"}},l.createElement(P.P,{size:"app"},N&&l.createElement(C.x,{marginTop:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"},marginBottom:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"}},l.createElement(an.h,{post:n}))),l.createElement("article",y,l.createElement(C.x,null,l.createElement(Ct,{post:n},l.createElement(C.x,null,l.createElement(bn.b,{isAuroraPostPageEnabled:!0,post:n,ref:d,richTextStyle:"FULL_PAGE",postBodyInserts:x}))))),l.createElement(P.P,{size:"app"},l.createElement(en,{post:n,meteringInfo:t}))),l.createElement(ao,{post:n,postIsLocked:!!g}),!S&&l.createElement(Xn,{post:n}),l.createElement(R,{isDockingEnabled:!1,undockedBackgroundColor:"BACKGROUND",maxWidthSize:"app",marginBottom:{xs:"80px",sm:"80px",md:"88px",lg:"88px",xl:"88px"}},l.createElement(_n,{post:n,socialPopoverPosition:"end"}))),l.createElement(Ri,{currentPostId:n.id}),l.createElement(C.x,{backgroundColor:"BASE_LIGHT",paddingTop:{xs:"48px",sm:"48px",md:"72px",lg:"72px",xl:"72px"}},h&&l.createElement(l.Fragment,null,l.createElement(oa,{user:h,postId:n.id,collection:f}),l.createElement(ri,{postId:n.id,user:h,collection:f})),l.createElement(Ui,{postId:n.id}),l.createElement(Ht.y,{lg:!0,xl:!0},l.createElement(St.E,{marginTop:"72px",borderColor:a.colorTokens.border.neutral.tertiary.base}),l.createElement(P.P,{size:"app"},l.createElement(me.q,{padding:"24px 0",spacing:"L",detailScale:"S"})))),l.createElement(se,{post:n}))},lo=t(82377),ro=t(9970),so=t(57831),mo=t(1279),co=t(84492),uo=t(84683),po={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAuthorInfo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherName_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowersCount_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherDescription_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FollowAndSubscribeButtons_user"}}]}}].concat(b()(vi.H.definitions),b()(ro.g.definitions),b()(so.h.definitions),b()(mo.m.definitions),b()(co.i.definitions))},ko={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAuthorInfo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"editors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}}].concat(b()(uo.d.definitions),b()(gi.W.definitions))},vo=t(24176),go=t(55193),fo=t(53776),ho=t(36299),So=t(28272),xo=t(31228),No=t(32934),yo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"logo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_logo"}}]}}]}}].concat(b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_logo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}}]))},bo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"updatedAt"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat(b()(qt.$m.definitions),b()(yo.definitions),b()(No.bq.definitions))},Eo=t(97849),Fo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostMetadata_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"socialTitle"}},{kind:"Field",name:{kind:"Name",value:"socialDek"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"canonicalUrl"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"twitterScreenName"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"twitterUsername"}},{kind:"Field",name:{kind:"Name",value:"facebookPageId"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shouldIndexPost_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat(b()(qt.$m.definitions),b()(bo.definitions),b()(Eo.i.definitions),b()(Eo.m.definitions),b()(No.HF.definitions),b()(No.Pz.definitions),b()(No.dm.definitions),b()(No.bq.definitions))},wo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterInfo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"license"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterTags_post"}}]}}].concat(b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterTags_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}}]}}]}}]))},Po=t(22330),Io=t(78693),To=t(62549),Oo=t(17828),_o=t(93145),Co=t(23515),Do={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostByline_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}}]}}].concat(b()(vi.H.definitions),b()(qt.$m.definitions),b()(pi.O.definitions),b()(Io.s.definitions))},Ro={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostByline_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"DraftStatus_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shouldShowPublishedInStatus_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSharePopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPageBookmarkButton_post"}}]}}].concat(b()(gi.W.definitions),b()(To.t.definitions),b()(Oo.w.definitions),b()(_o.G.definitions),b()(sa.v.definitions),b()(da.x.definitions),b()(Co.S.definitions))},Ao={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPageMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat(b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"UpsellClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]))},Mo=[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPageMeter_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIds"}},{kind:"Field",name:{kind:"Name",value:"unlocksRemaining"}}]}}],Lo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyInserts_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostByline_user"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}},{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startIndex"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowPostPageMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPageMeter_post"}}]}}].concat(b()(Po.RD.definitions),b()(Po.Ki.definitions),b()(Do.definitions),b()(Ro.definitions),b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"useShouldShowPostPageMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}}]}}]}}]),b()(Ao.definitions))},Bo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyInserts_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowPostPageMeter_meteringInfo"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPageMeter_meteringInfo"}}]}}].concat(b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"useShouldShowPostPageMeter_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIds"}}]}}]),b()(Mo))},jo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostBranchView_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"domain"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"buildBranchViewData_post"}}]}}].concat(b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"buildBranchViewData_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]))},Vo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostBranchView_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"buildBranchViewData_meteringInfo"}}]}}].concat(b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"buildBranchViewData_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIds"}}]}}]))},Uo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostTracking_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"usePostClientViewedReporter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostBranchView_post"}}]}}].concat(b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostClientViewedReporter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),b()(jo.definitions))},Ho=([{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostTracking_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"usePostBranchView_meteringInfo"}}]}}].concat(b()(Vo.definitions)),t(56785)),Go={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPageQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostResultError_postResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"googleAnalyticsId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAuthorInfo_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MastodonVerificationLink_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAuthorInfo_user"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToEntityType"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithResponsesSidebar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCanonicalizer_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterActionsBar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostReadTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostMetadata_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterInfo_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyInserts_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingToast_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostTracking_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishedDialog_prerequisite_post"}}]}}]}}]}}].concat(b()(lo.i.definitions),b()(ko.definitions),b()(vo.G.definitions),b()(go.v.definitions),b()(po.definitions),b()(fo.r.definitions),b()(ho.Uw.definitions),b()(So.y.definitions),b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCanonicalizer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}}]}}]),b()(xo.R.definitions),b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostReadTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),b()(Fo.definitions),b()(go.Q.definitions),b()(wo.definitions),b()(Lo.definitions),b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingToast_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),b()(Uo.definitions),b()(Ho.V.definitions),b()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishedDialog_prerequisite_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]))},Wo=t(60600),zo=function(){var e=(0,_e.s)()||ti.j.lg,n=e===ti.j.xs||e===ti.j.sm?2:3;return l.createElement(C.x,{height:"100vh"},l.createElement(C.x,{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"16px",width:"100%",marginTop:"48px"},l.createElement(C.x,{width:"80%",height:{xs:"40px",sm:"40px",md:"48px",lg:"48px",xl:"48px"},marginBottom:"24px",backgroundColor:"BASE_NORMAL"}),l.createElement(C.x,{display:"flex",marginBottom:{xs:"44px",sm:"44px",md:"52px",lg:"52px",xl:"52px"}},l.createElement(C.x,{height:"44px",width:"44px",backgroundColor:"BASE_NORMAL",borderRadius:"50%",marginRight:"12px"}),l.createElement(C.x,{margin:"auto 0"},l.createElement(C.x,{height:"16px",marginBottom:"4px",width:"120px",backgroundColor:"BASE_NORMAL"}),l.createElement(C.x,{height:"16px",width:"80px",backgroundColor:"BASE_NORMAL"}))),Array.from(Array(n)).map((function(e,n){return l.createElement(C.x,{key:n,width:"100%",marginBottom:{xs:"32px",sm:"32px",md:"48px",lg:"48px",xl:"48px"}},l.createElement(C.x,{width:"96%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),l.createElement(C.x,{width:"98%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),l.createElement(C.x,{width:"100%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),l.createElement(C.x,{width:"98%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),l.createElement(C.x,{width:"81%",height:"24px",backgroundColor:"BASE_NORMAL"}))}))))},Yo=function(){return l.createElement(Wo.f,{itemPlaceholder:zo,numPlaceholders:1})},Zo={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"usePostPageMeterQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"meterPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"postIds"}},{kind:"Field",name:{kind:"Name",value:"maxUnlockCount"}},{kind:"Field",name:{kind:"Name",value:"unlocksRemaining"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_meteringInfo"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPageMeter_meteringInfo"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyInserts_meteringInfo"}}]}}]}}]}}].concat(b()(fo.Y.definitions),b()(Mo),b()(Bo.definitions))};function Ko(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function qo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ko(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ko(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Xo=function(e){var n,t,i,a,r,d=(0,T.mr)({params:e})||"",s=function(e){var n=e.params,t={referrer:(0,v.v9)((function(e){return e.navigation.referrer})),sk:(0,k.G1)(),source:(0,k.PM)()},i=(0,T.mr)({params:n||{}})||"",a=(0,U.d)("enable_maim_the_meter"),l=a.value,r=a.loading;return(0,o.a)(Zo,{variables:{postId:i,postMeteringOptions:t},ssr:!1,skip:r||!!l})}({params:e}),m=s.error?[]:null===(n=s.data)||void 0===n?void 0:n.meterPost.postIds,c=!(null==m||!m.includes(d)),u=(0,N.a)(),p=u.loading,g=u.shouldShowIncognitoRegwall,f=(0,o.a)(Go,{variables:{postId:d,postMeteringOptions:{forceTruncation:!1}},ssr:!1,fetchPolicy:"cache-only"}),h="Post"===(null===(t=f.data)||void 0===t||null===(i=t.postResult)||void 0===i?void 0:i.__typename)&&f.data.postResult.content.isLockedPreviewOnly,S=!p&&g&&c&&!h,x=(0,o.a)(Go,{variables:{postId:d,postMeteringOptions:{forceTruncation:S}},skip:!d}),y=null===(a=x.data)||void 0===a?void 0:a.postResult,b="Post"===(null==y?void 0:y.__typename)&&!(null==y||null===(r=y.content)||void 0===r||!r.isLockedPreviewOnly),E=w(d,b),F=E.content,P=y&&F?qo(qo({},y),{},{content:F}):y;return l.useMemo((function(){return{loading:x.loading||s.loading||!!E.loading,postQueryResult:x,postResult:P,postMeterQueryResult:s}}),[x,s,P,E])},Qo=l.memo((function(e){var n=e.postQueryResult,t=e.postResult,i=e.postMeterQueryResult,a=e.params,o=(0,T.mr)({params:a})||"",u=n.loading,p=n.error,k=i.error,v=i.data,g=null==v?void 0:v.meterPost,f=(0,r.TH)(),h=l.useMemo((function(){return{name:"post_page",postId:o}}),[o]);return o?u?l.createElement(P.P,{size:"inset"},l.createElement(Yo,null)):k||p?l.createElement(d.C,{error:k||p}):(0,c.r)(t)?l.createElement(c.I,{postResult:t}):l.createElement(x,{post:t,matchedPath:f.pathname,key:o},l.createElement(I.cW,{source:h},t.creator&&l.createElement(m.$,{user:t.creator}),l.createElement(oo,{post:t,meteringInfo:g}))):l.createElement(s.$,null)}))},25011:(e,n,t)=>{"use strict";t.d(n,{p:()=>c});var i=t(67154),a=t.n(i),o=t(67294),l=t(77355),r=t(14646),d=t(93513),s=function(e){var n=a()({},e);return o.createElement(l.x,a()({display:"flex",flexBasis:"0",flexGrow:"1",flexShrink:"1",justifyContent:"center",alignItems:"center"},n))},m=function(e){return function(n){return{width:"100%",justifyContent:"stretch",display:"flex",backgroundColor:n.backgroundColor,alignItems:"center",height:"".concat(d.y,"px"),borderTop:"solid 1px ".concat(n.colorTokens.border.neutral.primary.base),opacity:e?1:0,visibility:e?"visibile":"hidden"}}},c=(0,o.memo)((function(e){var n=e.multiVoteButton,t=e.responsesButton,i=e.saveButton,a=e.isVisible,l=void 0===a||a,d=(0,r.I)();return o.createElement("div",{className:d(m(l))},o.createElement(s,null,n),o.createElement(s,null,t),i&&o.createElement(s,null,i))}))},40806:(e,n,t)=>{"use strict";t.d(n,{o:()=>m});var i=t(63038),a=t.n(i),o=t(67294),l=t(6280),r=t(14646),d=t(77241),s=function(e,n){return{position:"sticky",zIndex:n?d.ZP.metabarProgress:d.ZP.selectionMenu,bottom:"0","> *":{transform:"translateY(".concat(e,"px)")}}},m=function(e){var n=e.children,t=e.maxHeightToHideOnScroll,i=e.isUpsellVisible,d=(0,r.I)(),m=(0,o.useRef)(),c=(0,o.useState)(0),u=a()(c,2),p=u[0],k=u[1],v=(0,o.useCallback)((function(e){k((function(n){return Math.max(Math.min(n+e,t),0)}))}),[t]),g=(0,o.useCallback)((function(){var e,n=null===(e=x.current)||void 0===e?void 0:e.getBoundingClientRect().y;window.scrollY>0&&m.current&&n&&v(m.current-n),m.current=n}),[v]),f=t>0,h=(0,l.$)(f,g),S=h.dockRef,x=h.markerRef,N=h.isStuck;return o.createElement(o.Fragment,null,o.createElement("div",{ref:x}),o.createElement("div",{ref:S,className:d(s(p,i))},"function"==typeof n?n({isStuck:N}):n))}},93513:(e,n,t)=>{"use strict";t.d(n,{T:()=>i,y:()=>a});var i=52,a=48},6280:(e,n,t)=>{"use strict";t.d(n,{$:()=>r});var i=t(63038),a=t.n(i),o=t(67294),l=t(34135),r=function(e,n){var t=(0,o.useRef)(null),i=(0,o.useRef)(null),r=(0,o.useState)(!0),d=a()(r,2),s=d[0],m=d[1];return(0,o.useEffect)((function(){var a=function(){var e,a,o=null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect().y,l=null===(a=i.current)||void 0===a?void 0:a.getBoundingClientRect().y;o&&l&&m(Boolean(l-o)),null==n||n()};if(a(),e)return l.V6.on("scroll",a),function(){l.V6.off("scroll",a)}}),[e]),{isStuck:e&&s,dockRef:t,markerRef:i}}},60672:(e,n,t)=>{"use strict";t.d(n,{e:()=>u});var i=t(67294),a=t(27517),o=t(18702),l=t(25550),r=t(6443),d=t(98067),s=t(77280),m=t(43487),c=t(55765),u=function(e){var n=e.data,t=void 0===n?{}:n,u=e.isBlocked,p=void 0!==u&&u,k=e.loading,v=e.show,g=t.canonicalUrl,f=t.collectionViewerEdge,h=t.creatorViewerEdge,S=t.meteringInfo,x=t.pageType,N=t.post,y=t.profileName,b=t.profilePhoto,E=t.profileUsername,F=t.topicViewerEdge,w=(0,a.I0)(),P=(0,l.r)(),I=P.loading,T=P.viewerId,O=(0,c.P)(),_=O.loading,C=O.inAppBrowser,D=(0,r.H)(),R=D.loading,A=D.value,M=(0,m.v9)((function(e){return e.navigation.referrer})),L=(0,s.PM)();(0,i.useEffect)((function(){if(!(k||R||I||!T||_)){var e=(0,o.RD)({collectionViewerEdge:f,creatorViewerEdge:h,currentUserId:T,inAppBrowser:C,meteringInfo:S,page_type:x,post:N,profile_name:y,profile_photo:b,profile_username:E,referrer:M,referrerSource:L,viewer:A,topicViewerEdge:F});return g&&(e.data.$canonical_url=g),(0,o.Pu)(e),w((0,d.aj)(e)),v&&(w((0,d.QZ)()),w((0,d.Dl)(p))),function(){w((0,d.Uo)())}}}),[k,R,I,T,_])}},24176:(e,n,t)=>{"use strict";t.d(n,{G:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MastodonVerificationLink_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"linkedAccounts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mastodon"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}}]}},90732:(e,n,t)=>{"use strict";t.d(n,{$:()=>l});var i=t(67294),a=t(77355),o=t(50458),l=function(e){var n,t,l=e.user,r=(0,o.eF)(),d=null===(n=l.linkedAccounts)||void 0===n||null===(t=n.mastodon)||void 0===t?void 0:t.username;return d?i.createElement(a.x,{display:"none"},i.createElement("a",{rel:"me",href:"".concat(r,"/@").concat(d)},"Mastodon")):null}},3934:(e,n,t)=>{"use strict";t.d(n,{d:()=>c});var i=t(319),a=t.n(i),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreviewImage_imageMetadata"}}]}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreviewImage_imageMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"alt"}}]}}]))},l=t(8607),r=t(14524),d=t(63009),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreviewContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreviewImage_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreviewFooter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreviewByLine_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreviewInformation_post"}}]}}].concat(a()(o.definitions),a()(l.m1.definitions),a()(r.xO.definitions),a()(d.u.definitions))},m=t(3105),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreview_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreviewContent_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreviewContainer_post"}}]}}].concat(a()(s.definitions),a()(m.J.definitions))}},82053:(e,n,t)=>{"use strict";t.d(n,{w:()=>L});var i=t(67294),a=t(66604),o=t.n(a),l=t(77355),r=t(93310),d=t(52069),s=t(90586),m=t(87691),c=t(14646),u=t(97480),p=t(18634),k=t(21755),v=t(31889);function g(e){var n=e.dividerBreakpoints,t=e.dividerColor,a=(0,v.F)();return i.createElement(p.y,{xl:n.includes(k.j.xl),lg:n.includes(k.j.lg),md:n.includes(k.j.md),sm:n.includes(k.j.sm),xs:n.includes(k.j.xs)},i.createElement(u.E,{marginTop:"32px",borderColor:null!=t?t:a.colorTokens.border.neutral.primary.base}))}var f=t(94124),h=t(4381),S=t(46696),x=t(36001);function N(e,n){return e.includes(n)?"block":"none"}function y(e){return e?Math.round(e):e}function b(e){var n=e.post,t=e.postUrl,a=e.scales,o=e.aspectRatio,d=void 0===o?h.Pr.ThreeToTwo:o,s=e.miroImgFetchedWidth,m=(0,x.Il)(a),c=n.previewImage,u=n.title,p=(null==c?void 0:c.id)||"1*yuVzMhCJyDENbyhwAsrkwA.png",k=(0,S.W6)({miroId:p,width:s,strategy:S._S.Resample,freezeGifs:!1}),v=(null==c?void 0:c.alt)||u||"",g=function(e,n,t){return function(i){var a,o,l=null!==(a=y(n))&&void 0!==a?a:50,r=null!==(o=y(t))&&void 0!==o?o:50;return{width:"100%",borderRadius:"2px",aspectRatio:"string"==typeof e?h.FA[e]:{xs:h.FA[e.xs],sm:h.FA[e.sm],md:h.FA[e.md],lg:h.FA[e.lg],xl:h.FA[e.xl]},objectFit:"cover",objectPosition:"".concat(l,"% ").concat(r,"%"),backgroundColor:i.colorTokens.background.neutral.tertiary.base}}}(d,null==c?void 0:c.focusPercentX,null==c?void 0:c.focusPercentY);return i.createElement(r.r,{href:t,"aria-label":v||"Post Preview Image"},Object.keys(m).map((function(e){var n=m[e];return n.length?i.createElement(l.x,{display:{xs:N(n,"xs"),sm:N(n,"sm"),md:N(n,"md"),lg:N(n,"lg"),xl:N(n,"xl")},key:"grid-image-".concat(e)},i.createElement(f.E,{src:k,alt:v,rules:g,loading:f.K.LAZY})):null})))}var E=t(9842),F=t(55047),w=t(63254),P="image",I="content";function T(e){return new Array(12).fill(null).map(e).join(" ")}function O(e){switch(e){case"L":return'"'.concat(T((function(e,n){return n>=7?I:P})),'"');case"M":case"S":var n=T((function(){return P})),t=T((function(){return I}));return'"'.concat(n,'" "').concat(t,'"')}}var _={S:{subElementSpacing:"16px",titleScale:"S",titleClamp:2,gridTemplateAreas:O("S"),gap:"24px 0",hasDivider:!0,flexGrowTitle:"1"},M:{subElementSpacing:"20px",titleScale:"M",titleClamp:2,gridTemplateAreas:O("M"),gap:"32px 0",hasDivider:!0,flexGrowTitle:"1"},L:{subElementSpacing:"24px",titleScale:"L",titleClamp:3,gridTemplateAreas:O("L"),gap:"0 56px",hasDivider:!1,flexGrowTitle:void 0}},C=function(e,n){return{height:"100%",display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridTemplateRows:"auto 1fr",gap:e,gridTemplateAreas:n}},D=function(e){return{gridArea:e}},R={display:"flex",justifyContent:"center",flexDirection:"column"},A=function(e){var n,t=e.post,a=e.postUrl,u=e.scales,p=e.aspectRatio,k=e.showCollectionName,v=e.showAuthor,f=e.showDivider,h=e.dividerBreakpoints,S=e.dividerColor,N=e.miroImgFetchedWidth,y=(0,c.I)(),T=t.title,O=null==t||null===(n=t.extendedPreviewContent)||void 0===n?void 0:n.subtitle,A=(0,x.L)(_,u),M=o()(A,(function(e){return e.subElementSpacing})),L=o()(A,(function(e){return e.titleScale})),B=o()(A,(function(e){return e.titleClamp})),j=o()(A,(function(e){return e.gap})),V=o()(A,(function(e){return e.gridTemplateAreas})),U=o()(A,(function(e){return e.hasDivider})),H=o()(A,(function(e){return e.flexGrowTitle})),G=T&&T.length>70,W=f&&U;return i.createElement("div",{className:y(C(j,V))},i.createElement("div",{className:y(D(P))},i.createElement(b,{post:t,postUrl:a,scales:u,aspectRatio:p,miroImgFetchedWidth:N})),i.createElement("div",{className:y([D(I),R])},i.createElement(E.G,{post:t,marginBottom:M,showCollectionName:k,showAuthor:v}),i.createElement(l.x,{wordBreak:"break-word",paddingBottom:T||O?M:void 0,flexGrow:H},i.createElement(r.r,{href:a},T&&i.createElement("div",{title:G?T:""},i.createElement(d.Dx,{scale:L,clamp:B},T)),O&&i.createElement(l.x,{paddingTop:"8px"},i.createElement(s.QE,{scale:"S",clamp:2},O)))),i.createElement(r.r,{href:a},i.createElement(m.F,{scale:"S",tag:"span"},i.createElement(l.x,{display:"flex",alignItems:"center"},i.createElement(w.O,{post:t})))),i.createElement(l.x,{paddingTop:M},i.createElement(F.u,{post:t,postUrl:a,scales:u})),W&&i.createElement(g,{dividerBreakpoints:h,dividerColor:S})))},M=t(69935);function L(e){var n=e.post,t=e.index,a=e.lastIndex,o=e.presentationTrackerReferrerSource,l=e.scale,r=e.aspectRatio,d=e.showCollectionName,s=e.showAuthor,m=e.dividerBreakpoints,c=e.dividerColor,u=e.miroImgFetchedWidth,p="string"==typeof l?(0,x.n0)(l):l;return i.createElement(M.V,{post:n,presentationTrackerReferrerSource:o,index:t,isFullHeight:!0},(function(e){var o=e.postUrl;return i.createElement(A,{post:n,postUrl:o,scales:p,aspectRatio:r,showDivider:t!==a,showCollectionName:d,showAuthor:s,dividerBreakpoints:m,dividerColor:c,miroImgFetchedWidth:u})}))}},1279:(e,n,t)=>{"use strict";t.d(n,{m:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherDescription_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bio"}}]}}]}}]}},937:(e,n,t)=>{"use strict";t.d(n,{y:()=>r});var i=t(67294),a=t(14294),o=t(38882),l=t(87691),r=function(e){var n=e.publisher,t=e.color,r="Collection"===n.__typename?n.description:n.bio;return r?i.createElement(l.F,{scale:"M",color:t},i.createElement(o.c.Provider,{value:!0},i.createElement(a.P,{wrapLinks:!0},r))):null}},74419:(e,n,t)=>{"use strict";t.d(n,{i:()=>l});var i=t(67294),a=t(20113),o=t(14646),l=function(e){var n=e.publisher,t=e.scale,l=void 0===t?"XS":t,r=e.prefix,d=(0,o.I)();return n.name?i.createElement(a.X6,{playwrightClassName:"pw-author-name",scale:l},i.createElement("span",{className:d({wordBreak:"break-word"})},r,n.name)):null}},80350:(e,n,t)=>{"use strict";t.d(n,{t:()=>s,e:()=>m});var i=t(67294),a=t(68427),o=t(84739),l=t(93310),r=t(87691),d=t(21372),s=function(e){var n,t,i=null!==(n="Collection"===e.__typename?e.subscriberCount:null===(t=e.socialStats)||void 0===t?void 0:t.followerCount)&&void 0!==n?n:0;return{followerCount:i,isFollowerCountVisible:i>0}},m=function(e){var n=e.disableLink,t=void 0!==n&&n,m=e.scale,c=void 0===m?"L":m,u=e.publisher,p=e.color,k=e.linkStyle,v=void 0===k?"SUBTLE":k,g=e.inline,f=e.showWhenZero,h=(0,a.B)(),S=(0,o.I)(),x=s(u),N=x.followerCount,y=x.isFollowerCountVisible;if(!f&&!y)return null;var b="".concat((0,d.pY)(N)," Follower").concat(1===N?"":"s");return i.createElement(r.F,{playwrightClassName:"pw-follower-count",tag:"span",scale:c,color:p},N>0&&!t?i.createElement(l.r,{href:"".concat("Collection"===u.__typename?h(u):S(u),"/followers"),linkStyle:v,inline:g},b):b)}},22330:(e,n,t)=>{"use strict";t.d(n,{RD:()=>l,Ki:()=>r,lt:()=>d});var i=t(319),a=t.n(i),o=t(68216),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat(a()(o.$m.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatarImageId"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}}]}}]}}].concat(a()(l.definitions),a()(r.definitions))}},20512:(e,n,t)=>{"use strict";t.d(n,{Y4:()=>r,NJ:()=>d,lc:()=>s});var i=t(59713),a=t.n(i),o=t(46696);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){var n=e.miroId,t=e.originalWidth,i=e.originalHeight,a=e.focusPercentX,l=e.focusPercentY,r=e.croppedWidth;if(!n)return null;var d=(0,o.vz)({miroId:n,aspectRatio:16/9,croppedWidth:r,originalWidth:t,originalHeight:i,focusPercentX:a,focusPercentY:l}),s=(0,o.vz)({miroId:n,aspectRatio:4/3,croppedWidth:r,originalWidth:t,originalHeight:i,focusPercentX:a,focusPercentY:l}),m=(0,o.vz)({miroId:n,aspectRatio:1,croppedWidth:r,originalWidth:t,originalHeight:i,focusPercentX:a,focusPercentY:l}),c=new Set([d,s,m]);return Array.from(c)}function d(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({"@type":"ImageObject"},e)}function s(e){var n=e.id,t=e.originalWidth,i=e.originalHeight;if(!n||!t||!i)return null;var a=Math.min(i,60),l=a/i,r=Math.floor(t*l);return d({width:r,height:a,url:(0,o.W6)({miroId:n,width:r,freezeGifs:!0,strategy:o._S.Resample})})}},41135:(e,n,t)=>{"use strict";t.d(n,{b:()=>C});var i=t(59713),a=t.n(i),o=t(67294),l=t(33380),r=t(46484),d=t(319),s=t.n(d),m=t(38883),c=t(94124),u=t(96370),p=t(14646),k=t(75221),v=t(32342);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h={clear:"both"},S={clear:"both",width:"100%"},x=function(e){var n,t,i=e.layoutGroup,a=e.postBodyInserts,l=e.isEmbedded,r=(0,p.I)(),d=i.styleGroups[0].paragraphViewModels[0].richTextStyle,s=i.styleGroups.map((function(e,n){var t=n<3;return o.createElement(m.ZQ,{key:n,styleGroup:e,postBodyInserts:a,richTextStyle:d,loading:t?c.K.EAGER:c.K.LAZY})}));if((0,v.jH)(d)||l||"INLINE"===d)return o.createElement(o.Fragment,null,s);switch(i.effectiveLayout){case"OUTSET_CENTER":case"OUTSET_ROW":return o.createElement("div",{className:r(h)},o.createElement(u.P,{size:{xs:"full",sm:"full",md:"full",lg:"outset",xl:"outset"}},s));case"FULL_WIDTH":return o.createElement("div",{className:r(S)},s);default:return"FULL_PAGE"===d?o.createElement(u.P,{size:"app"},s):o.createElement("div",{className:r((n=i.effectiveLayout,t={boxSizing:"border-box",margin:"0 auto",width:"100%"},"INSET_CENTER"===n?f(f({},t),{},{maxWidth:"700px",padding:"0 1.25em"}):t))},s)}},N=o.memo(x),y=t(98096),b=t(31889),E=t(97489),F={":after":{display:"block",content:'""',clear:"both"}},w=t(46696),P=t(3207);function I(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var O=function(){return{display:"table-cell",paddingBottom:"32px",verticalAlign:"bottom"}};function _(e){var n,t,i,a,r=e.bgImage,d=e.children,s=e.isFullPage,m=e.paragraphName,c=(0,p.I)(),u=(0,b.F)();return r&&r.id&&s?o.createElement(l.TA,{name:m,type:"bgimage"},o.createElement("div",{className:c((n=r,t=n.id,i=n.originalWidth,a=n.originalHeight,function(){var e=[400,600,800,1e3,1200,1400,1600,1800,2e3],n={miroId:t,strategy:w._S.Resample,verticalGradient:{start:29,end:81,opacity:40}},o=e.reduce((function(t,o,l){var r=(0,w.W6)(T(T({},n),{},{width:o,height:o/i*a}));return l===e.length-1?(t.backgroundImage="url(".concat(r,")"),t):(t["@media (min-width: ".concat(o,"px)")]={backgroundImage:"url(".concat(r,")")},t)}),{});return T({backgroundColor:"rgba(0, 0, 0, 0.9)",backgroundPosition:"50% 50%",backgroundSize:"cover",display:"table",minHeight:"100vh",width:"100%"},o)}))},o.createElement("div",{className:c(O)},o.createElement(y.f,{theme:(0,P.GV)(u)},d)))):d}var C=function(e){var n=e.paragraphViewModels,t=e.postBodyInserts,i=e.section,l=o.useContext(r.M),d=(0,p.I)();if(0===n.length)return null;var c,u=function(e){var n=[],t=[];e.forEach((function(e){var i=function(e,n){switch(n){case k.ms.INSET_LEFT:case k.ms.OUTSET_LEFT:return"IMG"===e||"IFRAME"===e?k.ms.INSET_CENTER:n;case k.ms.OUTSET_ROW_CONTINUE:return k.ms.OUTSET_ROW;default:return n||k.ms.INSET_CENTER}}(e.paragraphStyle,e.paragraph.layout),a=n[n.length-1];if(a&&a.effectiveLayout===i)t.push(e);else{if(a){var o,l=(0,m.lD)(t);(o=a.styleGroups).push.apply(o,s()(l))}t.length=0,t.push(e),n.push({styleGroups:[],effectiveLayout:i})}}));var i=n[n.length-1];if(i){var a,o=(0,m.lD)(t);(a=i.styleGroups).push.apply(a,s()(o))}return n}(n),v=(c=n[0].richTextStyle,function(e){switch(c){case"SERIES":return{paddingTop:"32px",paddingBottom:"32px",margin:"auto 0",width:"100%"};case"STREAM":case"CARD":case"FULL_PAGE":case"INLINE":return{wordBreak:"break-word",wordWrap:"break-word"};case"SHORTFORM_CARD":return a()({wordBreak:"break-word",wordWrap:"break-word",position:"relative",overflow:"hidden",height:"340px"},E.md(e),{height:"218px"});default:return{}}});return o.createElement("div",{className:d([v,F])},o.createElement(_,{bgImage:i.backgroundImage,isFullPage:"FULL_PAGE"===n[0].richTextStyle,paragraphName:n[0].paragraph.name},u.map((function(e,n){return o.createElement(N,{key:n,layoutGroup:e,postBodyInserts:t,isEmbedded:l})}))))}},7834:(e,n,t)=>{"use strict";t.d(n,{b:()=>E});var i=t(67154),a=t.n(i),o=t(63038),l=t.n(o),r=t(38460),d=t(67294),s=t(38882),m=t(75119),c=t(58730),u=t(10374),p=t(90504),k=t(83363),v=t(59713),g=t.n(v),f=t(39202);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){g()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function x(e,n,t){if(!e||"number"!=typeof n||"number"!=typeof t)return null;var i=n,a=t;return e.substr(i,a-i)}var N=t(6443),y=t(6402),b=t(36299),E=d.forwardRef((function(e,n){var t,i,o,v=e.isAuroraPostPageEnabled,g=e.post,h=e.inlinePost,E=e.postBodyInserts,F=e.richTextStyle,w=e.markedUpBodyModel,P=e.shouldHideHighlightAnnotations,I=(0,N.H)().value,T=h&&!g?w||(null==h||null===(t=h.extendedPreviewContent)||void 0===t?void 0:t.bodyModel):null==g||null===(i=g.content)||void 0===i?void 0:i.bodyModel,O={creator:null==g?void 0:g.creator,isAuroraPostPageEnabled:v,postBodyInserts:E,ref:n,richTextStyle:F||"FULL_PAGE",postId:(null==g?void 0:g.id)||""},_=g&&g.creator&&g.creator.allowNotes||!1,C=(0,r.t)(b.J8,{ssr:!1,variables:{postId:(null==g?void 0:g.id)||"",showNotes:_},notifyOnNetworkStatusChange:!0}),D=l()(C,2),R=D[0],A=D[1],M=A.called,L=A.data,B=null==L?void 0:L.post;if(d.useEffect((function(){g&&!M&&R()}),[g]),!T)return y.k.error("Expected post to have content or preview content."),null;var j=(null==g||null===(o=g.content)||void 0===o?void 0:o.bodyModel)&&(null==g?void 0:g.content.bodyModel.paragraphs)||[],V=function(e,n){return e&&n?e.map((function(e){var t=e.endOffset,i=e.startOffset,a=e.paragraphs&&e.paragraphs[0],o=function(e,n){return e?n.find((function(n){var t=n.name;return e===t})):null}(a.name,n);if(!a||!o)return null;var l=x(a.text,i,t),r=x(o.text,i,t);if(!l||!r)return null;if(l===r)return e;var d=o.text?o.text.indexOf(l):null;if("number"!=typeof d||d<0)return null;var s=d+l.length;return S(S({},e),{},{endOffset:s,startOffset:d})})).filter(f.b):e}(B&&B.highlights||[],j),U=B&&B.privateNotes||null;return d.createElement(u.yb,null,d.createElement(m.K,null,d.createElement(c.M,{interactivePost:g,highlights:V,disableSelection:!g},d.createElement(k.U,{highlights:V,paragraphs:j,viewer:I},d.createElement(s.c.Provider,{value:!0},d.createElement(p.y,a()({},O,{bodyModel:T,highlights:V,privateNotes:U,shouldHideHighlightAnnotations:P})))))))}))},90504:(e,n,t)=>{"use strict";t.d(n,{y:()=>$});var i=t(67154),a=t.n(i),o=t(319),l=t.n(o),r=t(67294),d=t(33380),s=t(14646),m={display:"flex",justifyContent:"center",marginTop:"32px",marginBottom:"14px",paddingTop:"24px",paddingBottom:"10px"},c=function(e){return{backgroundColor:e.colorTokens.foreground.neutral.primary.hover,borderRadius:"50%",display:"inline-block",height:"3px",width:"3px"}},u={marginRight:"20px"};function p(){var e=(0,s.I)();return r.createElement("div",{className:e(m),role:"separator"},r.createElement("span",{className:e([c,u])}),r.createElement("span",{className:e([c,u])}),r.createElement("span",{className:e(c)}))}var k=t(41135),v=t(63038),g=t.n(v),f=t(50008),h=t.n(f),S=t(23450),x=t.n(S),N=t(17193),y=t(77355),b=t(8431),E=t(31889),F=t(34135);function w(e){var n=e.grid.xStep;return{padding:"".concat(3*n,"px ").concat(4*n,"px ").concat(3*n,"px"),width:"400px"}}function P(e){var n=e.close,t=e.users,i=(0,s.I)(),a=r.useRef(null),o=(0,E.F)(),l=o.grid.xStep;return r.useEffect((function(){function e(){var e=a.current;if(e&&e.getBoundingClientRect){var t=e.getBoundingClientRect(),i=t.bottom,l=t.top<0||i>window.innerHeight,r=window.innerWidth<o.breakpoints.xl;(l||r)&&n()}}return F.V6.on("scroll_end",e),F.V6.on("resize_throttled",e),function(){F.V6.off("scroll_end",e),F.V6.off("resize_throttled",e)}}),[]),r.createElement("section",{ref:a,className:i(w)},r.createElement(y.x,{borderBottom:"BASE_LIGHTER",marginBottom:"-".concat(l,"px"),paddingBottom:"".concat(2*l,"px")},r.createElement(b.Lh,null,"Highlights (".concat(t.length,")"))),r.createElement(y.x,{marginLeft:"3px"},t.length&&t.map((function(e){return r.createElement(y.x,{display:"inline-block",key:e.id,marginTop:"".concat(5*l,"px"),marginRight:"".concat(5*l,"px"),width:"".concat(8*l,"px")},r.createElement(N.Yt,{hasPopover:!0,link:!0,user:e,scale:"XS"}))}))))}var I=r.memo(P),T=t(83363),O=t(69217),_=t(60748),C=t(25267),D=t(61095),R=t(66227),A=t(87691),M=t(29746),L=t(39202);function B(){return{border:"none",cursor:"pointer",display:"block",padding:"0px",textAlign:"left",width:"100%"}}function j(){return{left:"100%",position:"absolute",top:0}}function V(e,n){return{marginTop:"6px",maxWidth:"100%",position:"absolute",top:"".concat(e-(n||0),"px"),whiteSpace:"nowrap",width:"100%"}}function U(e){return{marginLeft:"auto",marginRight:"auto",maxWidth:"".concat((0,M.G)(e,8,!0),"px"),position:"relative"}}function H(){return{display:"inline-block",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}function G(e,n){return"number"==typeof e.startOffset&&"number"==typeof n.startOffset?e.startOffset<n.startOffset?-1:1:-1}function W(e,n){var t=n.startOffset,i=n.endOffset,a=n.paragraphs[0].name;if(!a||"number"!=typeof t||"number"!=typeof i)return e;var o=!1,l=e[a]||[];return l.length&&(l=l.map((function(e){var a=t<=e.endOffset+1,l=e.startOffset,r=e.endOffset;return a&&(o=!0,e.highlights.push(n),r=Math.max(i,e.endOffset),l=Math.min(t,e.startOffset)),{highlights:e.highlights,endOffset:r,startOffset:l}}))),o||l.push({highlights:[n],endOffset:i,startOffset:t}),e[a]=l,e}function z(e){var n=e.children,t=e.highlightString,i=e.toggle,a=(0,s.I)();return"Top highlight"===t?r.createElement(r.Fragment,null,n):r.createElement("button",{className:a(B),onClick:function(){return i()},onMouseDown:function(e){return e.preventDefault()}},n)}function Y(e){var n=e.creator,t=e.positionMap,i=e.yPosOffset,a=e.viewerEdge,o=(0,s.I)();if("number"!=typeof i)return null;var l=Array.from(t.entries());return r.createElement(C.I,{nonBlocking:!0},(function(e){return r.createElement(r.Fragment,null,l.map((function(t,l){var d=g()(t,2),s=d[0],m=d[1],c=function(e,n,t,i){var a=null==i?void 0:i.isFollowing;if(1===e.length){if("anon"===e[0].userId)return"Top highlight";if(!n)return null;if(t&&t.id===e[0].userId&&n.id!==t.id&&!a)return null;if(n&&n.id===e[0].userId)return"You highlighted";if(e[0].user&&e[0].user.name)return e[0].user.name}var o=[];if(e.forEach((function(e){if(e.user){var i=n&&n.id===e.userId,l=e.user.name,r=t&&t.id===e.userId&&(!n||n.id!==t.id&&!a);i?o.length&&"You"===o[0]||o.unshift("You"):r||!l||o.includes(l)||o.push(l)}})),!o.length)return"Top highlight";if(1===o.length)return"You"===o[0]?"You highlighted":o[0];if(2===o.length)return"".concat(o[0]," and ").concat(o[1]);var l=o.slice(0,2),r=o.length-l.length;return"".concat(l[0],", ").concat(l[1],", and ").concat(r," ").concat(x()("other",r))}(m,e,n,a);return c?r.createElement("div",{className:o(V(s,i)),key:l},r.createElement(R.B,null,(function(e){var n=e.isVisible,t=e.hide,i=e.toggle;return r.createElement(r.Fragment,null,r.createElement(z,{toggle:i,highlightString:c},r.createElement(A.F,{scale:"S"},r.createElement("span",{className:o(H)},c))),n&&r.createElement(O.G,{boundariesElement:"document",isVisible:!0,hide:t,placement:"right",popoverRenderFn:function(){var e=new Set,n=m.map((function(n){var t=n.user;return t&&t.id&&!e.has(t.id)?(e.add(t.id),t):null})).filter(L.b);return r.createElement(I,{close:t,users:n})}},r.createElement(r.Fragment,null)))}))):null})))}))}var Z=r.forwardRef((function(e,n){var t=e.creator,i=e.highlights,a=r.useContext(T.V).highlightSegments,o=r.useRef(null),d=r.useState(null),m=g()(d,2),c=m[0],u=m[1],p=(0,s.I)(),k=(0,E.F)(),v=r.useState(null),f=g()(v,2),S=f[0],x=f[1],N=r.useState(null),b=g()(N,2),w=b[0],P=b[1],I=(0,D.Pd)(t).viewerEdge;return r.useEffect((function(){var e=function(){var e=function(e,n,t){var i=new Map;if(e.size&&n.length){var a=function(e){var n=l()(e).sort(G).reduce(W,{});return Object.values(n).reduce((function(e,n){return n&&"object"===h()(n)&&n.length?(e.push.apply(e,l()(n)),e):e}),[])}(n),o=[];a.forEach((function(n){var a=n.highlights[0],l=a.paragraphs[0].name;if(a&&"number"==typeof a.startOffset&&l){var r=e.get("".concat(l,"_").concat(a.startOffset));if(r&&r.ref&&r.ref.current){var d,s=r.ref.current.getBoundingClientRect().top+window.pageYOffset;o.length&&(d=o.find((function(e){return s<e+t.newFonts.body.lineHeight.M&&s>e||s>e-t.newFonts.body.lineHeight.M&&s<e})));var m=d||s,c=i.get(m)||[];c.length||o.push(m);var u=c.concat(n.highlights);u.length&&i.set(m,u)}}}))}return i}(a,i,k);if(u(e),"function"!=typeof n&&null!=n&&n.current&&P(n.current.offsetTop),null!=o&&o.current){var t=o.current.getBoundingClientRect().left,r=window.innerWidth-t-8*k.grid.xStep;x(r)}};F.V6.on("resize_throttled",e);var t=(0,_.x)((function(n){"iframe.resize"!==n.context&&"player.js"!==n.context||e()})).destructor;return e(),function(){F.V6.off("resize_throttled",e),t()}}),[i,a]),r.createElement("div",{className:p(U)},r.createElement(y.x,{display:"block",xs:{display:"none"},sm:{display:"none"},md:{display:"none"},lg:{display:"none"},speechifyIgnore:!0},r.createElement("aside",{className:p(j),ref:o,style:{width:S?"".concat(S,"px"):void 0}},c&&r.createElement(Y,{creator:t,highlights:i,positionMap:c,yPosOffset:w,width:S,viewerEdge:I}))))})),K=r.memo(Z),q=t(75119);function X(e,n){var t;return Object.keys(e).some((function(i){return!!e[i].find((function(e){return e.insertType===n}))&&(t=i,!0)})),t}var Q=t(32342),$=r.forwardRef((function(e,n){var t,i,o=e.bodyModel,m=e.creator,c=e.highlights,u=e.isAuroraPostPageEnabled,v=e.privateNotes,g=e.postBodyInserts,f=e.richTextStyle,h=void 0===f?"FULL_PAGE":f,S=e.shouldHideHighlightAnnotations,x=void 0!==S&&S,N=(0,s.I)(),y=r.createRef(),b=null===(t=r.useContext(d.u6).watchedBounds.get("byline"))||void 0===t||null===(i=t.ref)||void 0===i?void 0:i.current,E=b?b.offsetTop-48:100,F={position:"absolute",left:0,top:"calc(100vh + ".concat(E,"px)"),bottom:"calc(100vh + ".concat(100,"px)"),width:"10px",pointerEvents:"none"},w=(0,q.Z)().privateNoteSelection,P=r.useMemo((function(){return c&&w?[].concat(l()(c),[w]):c}),[c,w]),I=g?function(e){return X(e,"BYLINE")}(g):void 0,T=g?function(e){return X(e,"METER")}(g):void 0,O=r.useMemo((function(){return(0,Q.fj)(o,{bylineParagraphName:I,meterParagraphName:T,highlights:P,isAuroraPostPageEnabled:u,isPostPage:!0,privateNotes:v,richTextStyle:h})}),[o,P,v,h]),_=g&&g.first;return r.createElement("section",{ref:n},r.createElement("div",{ref:y},r.createElement(r.Fragment,null,r.createElement(d.TA,{name:"ghost-track",type:"ghost",className:N(F)}),"FULL_PAGE"===h&&c&&c.length>0&&!x&&r.createElement(K,{creator:m,highlights:l()(c),ref:n}),!!_&&_.map((function(e,n){return e.component?r.createElement("div",{key:"postBodyInsertFirst_".concat(n)},e.component):null}))),O.map((function(e,n){if("HR"===e){var t,i,o=O[n-1],l=O[n+1],d="HR"!==o&&(null==o||null===(t=o.section)||void 0===t?void 0:t.backgroundImage),s="HR"!==l&&(null==l||null===(i=l.section)||void 0===i?void 0:i.backgroundImage);return d||s?null:r.createElement(p,{key:n})}return r.createElement(k.b,a()({key:e.section.name||n,postBodyInserts:g},e))}))))}))},14538:(e,n,t)=>{"use strict";t.d(n,{A:()=>m});var i=t(319),a=t.n(i),o=t(52831),l=t(76075),r=t(33960),d=t(19830),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PagedThreadedPostResponses_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_threadedStoryResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_defaultPostResponses"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_post"}}]}}].concat(a()(l.tt.definitions),a()(r.Df.definitions),a()(r.K5.definitions),a()(d.FN.definitions))},m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PagedThreadedPostResponsesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sortType"}},type:{kind:"NamedType",name:{kind:"Name",value:"ResponseSortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}},{kind:"Field",name:{kind:"Name",value:"responsesCount"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"responseRootPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"responseDepth"}}]}},{kind:"Field",name:{kind:"Name",value:"threadedPostResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}}},{kind:"Argument",name:{kind:"Name",value:"sortType"},value:{kind:"Variable",name:{kind:"Name",value:"sortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"autoExpandedPostIds"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PagedThreadedPostResponses_post"}}]}}]}}]}}]}}].concat(a()(o.Z.definitions),a()(s.definitions))}},28272:(e,n,t)=>{"use strict";t.d(n,{y:()=>d});var i=t(319),a=t.n(i),o=t(62236),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReplies_post"}}]}}].concat(a()(o.e9.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"}}]}}].concat(a()(l.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WithResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"}}]}}].concat(a()(r.definitions))}},35194:(e,n,t)=>{"use strict";t.d(n,{k:()=>w});var i=t(63038),a=t.n(i),o=t(67294),l=t(6722),r=t(43242),d=t(80745),s=t(87757),m=t.n(s),c=t(6479),u=t.n(c),p=t(48926),k=t.n(p),v=t(38460),g=t(68356),f=t.n(g),h=t(76412),S=t(18733),x=t(66411),N=t(50742),y=t(75221),b=t(14538),E=f()({loading:function(){return null},loader:function(){return Promise.all([t.e(7084),t.e(5459),t.e(6804),t.e(8883),t.e(6318),t.e(513),t.e(8913)]).then(t.bind(t,41469))},modules:["./ThreadedResponsesSidebarContent"],webpack:function(){return[41469]},render:(0,N.n)("ThreadedResponsesSidebarContent")}),F=function(e){var n,t,i,l,r,s,c,p,g,f=e.isResponsesSidebarVisible,N=e.inResponseToQuote,F=e.setInResponseToQuote,w=e.parentPost,P=e.continueThisThreadPost,I=e.continueThisThreadPostDepth,T=e.showPreviousSidebar,O=e.cleanupSidebar,_=e.initialSidebarRender,C=e.responsesSort,D=C?y.sV[C]:void 0,R=o.useState(D||y.sV.TOP),A=a()(R,2),M=A[0],L=A[1],B=o.useState(!1),j=a()(B,2),V=j[0],U=j[1],H=o.useRef(null),G=(0,v.t)(b.A,{variables:{postId:w.id,postResponsesPaging:{limit:d.p4},sortType:M},ssr:!1}),W=a()(G,2),z=W[0],Y=W[1],Z=Y.called,K=Y.loading,q=Y.data,X=Y.fetchMore;Z||P||!f||(z(),E.preload());var Q=null==q||null===(n=q.post)||void 0===n?void 0:n.responsesLocked,$=null==q||null===(t=q.post)||void 0===t?void 0:t.isLockedResponse,J=(0,d.aj)(f,_,null==q||null===(i=q.post)||void 0===i?void 0:i.threadedPostResponses,P),ee=J.responses,ne=J.showCreateReplyEditor,te=(null==q||null===(l=q.post)||void 0===l||null===(r=l.responseRootPost)||void 0===r||null===(s=r.post)||void 0===s?void 0:s.id)||"",ie=I||(null==q||null===(c=q.post)||void 0===c||null===(p=c.responseRootPost)||void 0===p?void 0:p.responseDepth)||0,ae=void 0,oe=null==ee||null===(g=ee.pagingInfo)||void 0===g?void 0:g.next;return oe&&!P&&(ae=function(){var e=k()(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=5;break}return oe.__typename,n=u()(oe,["__typename"]),e.next=4,X({variables:{postId:w.id,postResponsesPaging:n}});case 4:U(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),o.createElement(S.N8,null,o.createElement(x.cW,{source:{name:"responses",postId:w.id},extendSource:!0},o.createElement(h.I,{sidebarRef:H,cleanupSidebar:O,isResponsesSidebarVisible:f,pagingInfoNext:oe,isFetchingNextSetOfResponses:V,setIsFetching:U,fetchMoreWithArguments:ae,initialSidebarRender:_},(function(e){var n=e.responseDistribution,t=e.setResponseDistribution,i=e.closeSidebar;return Z||P?o.createElement(E,{responses:ee,parentPost:w,responsesLocked:Q,isLockedResponse:$,isLoadingInitialContent:K,isFetchingNextSetOfResponses:V,isResponsesSidebarVisible:f,closeSidebar:i,showPreviousSidebar:T,inResponseToQuote:N,setInResponseToQuote:F,sidebarRef:H,responseDistribution:n,setResponseDistribution:t,responseSortType:M,setResponseSortType:L,rootPostId:te,postDepth:ie,isContinueThisThread:!!P,showCreateReplyEditor:ne}):null}))))},w=function(e){var n=e.children,t=e.post,i=(0,o.useState)(void 0),s=a()(i,2),m=s[0],c=s[1],u=(0,o.useCallback)((function(e){return function(n){c(n),e()}}),[]);return o.createElement(r.E,null,(function(e){var i=e.showPreviousSidebar,a=e.hasLoaded,r=e.initialSidebarRender,s=e.isVisible,p=e.continueThisThreadPosts,k=e.openSidebar,v=e.cleanupSidebar,g=e.responseSortOption;return o.createElement(l.Q.Provider,{value:{openSidebarToRespondToHighlight:u(k)}},!!t&&a&&o.createElement(F,{isResponsesSidebarVisible:s&&0===p.length,parentPost:t,inResponseToQuote:m,setInResponseToQuote:c,showPreviousSidebar:i,cleanupSidebar:v,initialSidebarRender:!!r.current,responsesSort:g}),!!t&&a&&p.map((function(e,n,a){var l=(0,d.iI)(n);return o.createElement(F,{key:t.id,isResponsesSidebarVisible:s&&n===a.length-1,parentPost:t,inResponseToQuote:m,setInResponseToQuote:c,continueThisThreadPost:e,continueThisThreadPostDepth:l,showPreviousSidebar:i,cleanupSidebar:v,initialSidebarRender:!!r.current,responsesSort:g})})),n)}))}},52831:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a,EI:()=>o,Fe:()=>l,eS:()=>r});var i=t(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CloseDiscussion_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"responsesLocked"}},{kind:"Field",name:{kind:"Name",value:"isLockedResponse"}}]}}]},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchPostResponsesLockedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}}]}}]}}].concat(t.n(i)()(a.definitions))},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LockResponsesOnPostMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lockResponsesOnPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]},r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockResponsesOnPostMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockResponsesOnPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]}},76412:(e,n,t)=>{"use strict";t.d(n,{I:()=>f});var i=t(63038),a=t.n(i),o=t(15303),l=t(67294),r=t(82186),d=t(80745),s=t(14646),m=t(75221),c=t(59713),u=t.n(c),p=t(97489),k=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"white";return function(a){var o=n?"0.6s":"0s";return u()({width:t,position:"fixed",zIndex:520,backgroundColor:i,left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:e?"translateX(-".concat(t,")"):"translateX(0px)",transition:"transform ".concat(o," cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity ").concat(o," cubic-bezier(0.23, 1, 0.32, 1) 0s"),visibility:e?"visible":"hidden"},(0,p.sm)(a),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:e?"translateY(30px)":"translateY(100%)","-webkit-overflow-scrolling":"touch"})}},v=function(e){var n={top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,pointerEvents:"none"};return e&&(n.transition="opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"),n},g={"@media print":{display:"none"}},f=function(e){var n=e.cleanupSidebar,t=e.children,i=e.isResponsesSidebarVisible,c=e.pagingInfoNext,u=e.isFetchingNextSetOfResponses,p=e.setIsFetching,f=e.fetchMoreWithArguments,h=e.initialSidebarRender,S=e.sidebarRef,x=(0,s.I)(),N=l.useRef(null),y=l.useState(null),b=a()(y,2),E=b[0],F=b[1],w=l.useState(m.Et.NOT_DISTRIBUTED),P=a()(w,2),I=P[0],T=P[1];l.useEffect((function(){var e=N.current;if(e&&i){if(!E){var n=(0,o.v)(e,{initialFocus:e,fallbackFocus:e,preventScroll:!0,allowOutsideClick:function(e){var n;return!(null===(n=e.target)||void 0===n||!n.closest("reach-portal"))}});n.activate(),F(n)}return function(){E&&(E.deactivate(),F(null))}}}),[N.current,E,F,i]);var O,_=l.useCallback((function(){T(m.Et.NOT_DISTRIBUTED),n()}),[n]);return l.createElement("div",{className:x(g),role:"dialog","aria-modal":"true",ref:N,tabIndex:-1},l.createElement("div",{className:x([v(h),(O=i,O?{opacity:1,pointerEvents:"all"}:{})]),onClick:_,onKeyUp:function(e){13===e.keyCode&&_()},"aria-hidden":!i,role:"presentation"}),l.createElement("div",{className:x([k(i,h,r.ZR)]),"aria-hidden":!i,onScroll:function(e){return(0,d.vL)(e,c,u,p,f)},ref:S},t({responseDistribution:I,setResponseDistribution:T,closeSidebar:_})))}},55193:(e,n,t)=>{"use strict";t.d(n,{v:()=>i,Q:()=>a});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]},a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]}},66018:(e,n,t)=>{"use strict";t.d(n,{L:()=>r});var i=t(67294),a=t(27517),o=t(25735),l=t(78285),r=function(e){var n=e.user,t=e.post,r=e.forceLoad,d=void 0!==r&&r,s=(0,a.I0)(),m=(0,o.V)({name:"can_view_suspended_content",placeholder:!1})||d;return i.useEffect((function(){m&&(n&&n.isSuspended?s((0,l.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):t&&t.isSuspended&&s((0,l.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==t?void 0:t.id)||""}})))}),[m]),null}},97849:(e,n,t)=>{"use strict";t.d(n,{i:()=>l,m:()=>r});var i=t(319),a=t.n(i),o=t(32934),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"postMetaDescription_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoDescription"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(a()(o.bh.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shortformPostMetaDescription_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"seoDescription"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(a()(o.bh.definitions))}},22680:(e,n,t)=>{"use strict";t.d(n,{j:()=>l,O:()=>r});var i=t(75221),a=t(15085),o=t(42498),l=function(e){return function(e){var n=e.metaDescription,t=e.seoDescription,i=e.title||"";if(t)return t;if(n)return n;var l=function(e){var n=(0,a.r4)(e,250);return n&&(0,o.N8)(n,200)}(e);if(l.length>150)return l;var r=e.previewContent&&e.previewContent.subtitle||"";if(r.length>140)return r;r.length>0&&(r+=".");var d=(i.length?i+". ":"")+r;if(d.length>140)return d;var s="“".concat(i,"” is published");return e.creator&&e.creator.name&&(s+=" by ".concat(e.creator.name)),e.collection&&e.collection.name&&(s+=" in ".concat(e.collection.name)),"".concat(r," ").concat(s,".")}(e).trim()},r=function(e,n){var t=e.metaDescription,l=e.seoDescription,r=e.shortformType,d=r===i.po.SHORTFORM_TYPE_NOTE||!r;if(l)return l;if(t)return t;if(d&&n){var s=(0,a.r4)(e,350,0);return(0,o.N8)(s,300)}return""}},32934:(e,n,t)=>{"use strict";t.d(n,{bh:()=>o,dm:()=>s,bq:()=>m,Bg:()=>d,Pz:()=>c,HF:()=>u});var i=t(319),a=t.n(i),o=([{kind:"FragmentDefinition",name:{kind:"Name",value:"GetFeaturedImageIndex_bodyModel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GetFeaturedImageIndex_paragraph"}}]}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"GetFeaturedImageIndex_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"metadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFeatured"}}]}}]}}])),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getPostContentAsString_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"mixtapeMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"href"}}]}}]}}]}}]}}]}}]}),l=[{kind:"FragmentDefinition",name:{kind:"Name",value:"appendPostContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}],r=[{kind:"FragmentDefinition",name:{kind:"Name",value:"maybeAppendProductName_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}}]}}],d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"postTitle_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"appendPostContext_post"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"FragmentSpread",name:{kind:"Name",value:"maybeAppendProductName_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}}]}}].concat(a()(o.definitions),a()(l),a()(r))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getTitleDetails_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GetTitleIndexMap_bodyModel"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"GetTitleIndexMap_bodyModel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}}]),a()(o.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getTitleForPost_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}}]}}].concat(a()(d.definitions),a()(s.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shortformPostTitle_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"appendPostContext_post"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"maybeAppendProductName_collection"}}]}}]}}].concat(a()(o.definitions),a()(l),a()(r))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shouldIndexPost_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(a()(o.definitions))}},15085:(e,n,t)=>{"use strict";t.d(n,{r4:()=>v,yB:()=>g,lO:()=>h,_t:()=>S,oS:()=>x,c_:()=>N});var i=t(59713),a=t.n(i),o=t(49546),l=t(61796),r=t(75221),d=t(44987),s=t(42498);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,r=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return l=e.done,e},e:function(e){r=!0,o=e},f:function(){try{l||null==t.return||t.return()}finally{if(r)throw o}}}}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function k(e,n){var t,i,a;return null!==(t=n.sequence)&&void 0!==t&&t.title?e+=" - ".concat(n.sequence.title):null!==(i=n.collection)&&void 0!==i&&i.name?e+=" - ".concat(n.collection.name):null!==(a=n.creator)&&void 0!==a&&a.name&&(e+=" - ".concat(n.creator.name)),e}function v(e){var n,t,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeMixtapeHref:!1},r=l.includeMixtapeHref,d=(null===(n=e.content)||void 0===n||null===(t=n.bodyModel)||void 0===t?void 0:t.paragraphs)||[],s="",m=u(d);try{for(m.s();!(i=m.n()).done;){var c=i.value,p=c.mixtapeMetadata,k=c.text,v=c.type;if(r&&null!=p&&p.href?s+=s?" ".concat(p.href):p.href:"P"===v&&k&&k.length>o&&(s+=s?" ".concat(k):k),s.length>a)break}}catch(e){m.e(e)}finally{m.f()}return s}function g(e){var n=!1,t="";if(e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs){var i=e.content.bodyModel.paragraphs,a=(0,l.L)(i).titleIndex;"number"==typeof a&&(t=i[a].text||"",n=!0)}return{hasTitleGraf:n,latestTitle:t}}function f(e,n,t){return null!=t&&t.domain?e:"".concat(e," - ").concat(n)}function h(e,n){var t,i,a,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.seoTitle,m=e.title||"",c=(null===(t=e.previewContent)||void 0===t?void 0:t.subtitle)||"";if(r)return(0,d.p)(r,e.collection&&e.collection.name,n);if(!l)return m.length>50?m:m=f(m=k(m,e),n,e.collection);m.length<33&&c&&(c=(0,s.N8)(c,40),m+=". ".concat(c)),null!==(i=e.creator)&&void 0!==i&&i.name&&(m+=" | by ".concat(e.creator.name));var u,p="",v=Date.now()-5184e6;(null!==(a=e.firstPublishedAt)&&void 0!==a?a:0)>=v&&(p=" | ".concat((0,o.Z)(null!==(u=e.firstPublishedAt)&&void 0!==u?u:0,"LLL, yyyy")));var g=e.collection;return g?g.domain?m+="".concat(p," | ").concat(g.name):m+=" | ".concat(g.name).concat(p," | ").concat(n):m+="".concat(p," | ").concat(n),m}function S(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g(e),i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.title||"",o=t.latestTitle||a,l=c(c({},e),{},{title:o});return h(l,n,i).trim()}function x(e,n,t){var i=e.seoTitle,a=e.title||"";return i?(0,d.p)(i,e.collection&&e.collection.name,n):a=f(a=k(a=function(e,n,t){var i=n.shortformType,a=i===r.po.SHORTFORM_TYPE_NOTE||!i;return t||(a?e=v(n,250,0):i===r.po.SHORTFORM_TYPE_LINK&&(e=v(n,250,0,{includeMixtapeHref:!0}))),(0,s.N8)(e,200)}(a,e,t),e),n,e.collection)}function N(e){var n=e.firstPublishedAt,t=e.isShortform,i=e.shortformType,a=e.visibility,o=i===r.po.SHORTFORM_TYPE_NOTE||!i;if(!n)return{shouldIndexPost:!1,indexReason:"v2: draft"};if("PUBLIC"!==a&&"LOCKED"!==a)return{shouldIndexPost:!1,indexReason:"v2: unlisted (PUBLIC | LOCKED)"};if(t)if(o){if(v(e,10,0).length<=10)return{shouldIndexPost:!1,indexReason:"v2: insufficient content <=10 chars"}}else if(0===v(e,10,0).length)return{shouldIndexPost:!1,indexReason:"v2: shortform with no commentary"};return{shouldIndexPost:!0,indexReason:"v2: all checks passed"}}},44987:(e,n,t)=>{"use strict";t.d(n,{N:()=>i,p:()=>a});var i=function(e){return e||"Untitled story"},a=function(e,n,t){return n?"".concat(e," | ").concat(n):t?"".concat(e," | ").concat(t):e}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/PostPage.MainContent.0741d46e.chunk.js.map